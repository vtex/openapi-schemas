{
    "openapi": "3.0.0",
    "info": {
        "version": "1.0",
        "title": "SSL Certificates API",
        "description": "{api-description}"
    },
    "servers": [
        {
            "url": "https://{accountName}.{environment}.com.br",
            "description": "VTEX server URL.",
            "variables": {
                "accountName": {
                    "description": "Name of the VTEX account. Used as part of the URL",
                    "default": "apiexamples"
                },
                "environment": {
                    "description": "Environment to use. Used as part of the URL.",
                    "enum": [
                        "vtexcommercestable"
                    ],
                    "default": "vtexcommercestable"
                }
            }
        }
    ],
    "paths": {
        "/api/edge/certificates": {
            "get": {
                "tags": [
                    "SSL Certificates"
                ],
                "summary": "List certificates",
                "description": "Retrieves a list of SSL certificates.",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "description": "List of SSL certificates.",
                                    "items": {
                                        "type": "object",
                                        "description": "Information about each SSL certificate.",
                                        "properties": {
                                            "id": {
                                                "type": "string",
                                                "description": "Unique identifier of the certificate.",
                                                "nullable": false
                                            },
                                            "account": {
                                                "type": "string",
                                                "description": "Account name associated with the certificate.",
                                                "nullable": false
                                            },
                                            "host": {
                                                "type": "string",
                                                "description": "Primary host/domain of the certificate.",
                                                "nullable": false
                                            },
                                            "serialNumber": {
                                                "type": "string",
                                                "description": "Certificate serial number.",
                                                "nullable": false
                                            },
                                            "subjectDistinguishedName": {
                                                "type": "string",
                                                "description": "Full distinguished name of the subject.",
                                                "nullable": false
                                            },
                                            "subjectCommonName": {
                                                "type": "string",
                                                "description": "Common name (CN) of the certificate subject.",
                                                "nullable": false
                                            },
                                            "subjectOrganization": {
                                                "type": "string",
                                                "description": "Organization (O) of the certificate subject.",
                                                "nullable": true
                                            },
                                            "issuerDistinguishedName": {
                                                "type": "string",
                                                "description": "Full distinguished name of the issuing certificate authority.",
                                                "nullable": false
                                            },
                                            "issuerCommonName": {
                                                "type": "string",
                                                "description": "Common name (CN) of the certificate issuer.",
                                                "nullable": false
                                            },
                                            "issuerOrganization": {
                                                "type": "string",
                                                "description": "Organization (O) of the certificate issuer.",
                                                "nullable": false
                                            },
                                            "installDate": {
                                                "type": "string",
                                                "description": "Timestamp when the certificate was installed in ISO 8601 format.",
                                                "nullable": false
                                            },
                                            "startDate": {
                                                "type": "string",
                                                "description": "Certificate validity start date in ISO 8601 format.",
                                                "nullable": false
                                            },
                                            "expiryDate": {
                                                "type": "string",
                                                "description": "Certificate expiry date in ISO 8601 format.",
                                                "nullable": false
                                            },
                                            "signatureAlgorithm": {
                                                "type": "string",
                                                "description": "Algorithm used to sign the certificate.",
                                                "nullable": false
                                            },
                                            "x509Version": {
                                                "type": "string",
                                                "description": "X.509 version of the certificate.",
                                                "nullable": false
                                            },
                                            "installedBy": {
                                                "type": "string",
                                                "description": "ID of the user that installed the certificate.",
                                                "nullable": false
                                            },
                                            "createdAt": {
                                                "type": "string",
                                                "description": "Creation timestamp of the certificate entry in ISO 8601 format.",
                                                "nullable": false
                                            },
                                            "updatedAt": {
                                                "type": "string",
                                                "description": "Timestamp of the last certificate update in ISO 8601 format.",
                                                "nullable": false
                                            },
                                            "status": {
                                                "type": "string",
                                                "description": "Current status of the certificate, which can be one of the following:\n\n- **Active**: Valid and active for the host.\n- **Overwritten**: The certificate for this host has been replaced by another through an external method, such as an API call on the CDN.\n- **Installing**: Certificate installation in progress.\n- **Unknown**: The certificate status couldn't be determined due to internal technical problems with communication, configuration, or monitoring.\n- **Expires soon**: The certificate is close to its expiration date (30 days before or less).\n- **Installation failed**: After the status Installing, the installation can fail, and the user will need to try again later.\n- **Expired**: The expiration date passed.",
                                                "nullable": false,
                                                "enum": [
                                                    "Active",
                                                    "Overwritten",
                                                    "Installing",
                                                    "Unknown",
                                                    "Expires soon",
                                                    "Installation failed",
                                                    "Expired"
                                                ]
                                            }
                                        }
                                    }
                                },
                                "example": [
                                    {
                                        "id": "8c66122e-85cd-4bff-885d-aa9846e97541",
                                        "account": "myaccountname",
                                        "host": "mystore.com",
                                        "serialNumber": "05C51F848EDBAC18E91D9AE43D8F6728D4F8",
                                        "subjectDistinguishedName": "CN=mystore.com",
                                        "subjectCommonName": "mystore.com",
                                        "subjectOrganization": null,
                                        "issuerDistinguishedName": "CN=R10, O=Let's Encrypt, C=US",
                                        "issuerCommonName": "R10",
                                        "issuerOrganization": "Let's Encrypt",
                                        "installDate": "2025-04-22T16:24:58.768939Z",
                                        "startDate": "2024-08-29T01:43:25Z",
                                        "expiryDate": "2024-11-27T01:43:24Z",
                                        "signatureAlgorithm": "sha256RSA",
                                        "x509Version": "3",
                                        "installedBy": "22b312e1-f863-43t7-8c59-5n2f9ll0d09x",
                                        "createdAt": "2024-10-25T17:51:51.222052Z",
                                        "updatedAt": "2025-04-22T16:24:58.768939Z",
                                        "status": "Active"
                                    }
                                ]
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "SSL Certificates"
                ],
                "summary": "Install or renew SSL certificate",
                "description": "Installs or renews an SSL certificate via multipart/form-data or application/json.",
                "parameters": [
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "description": "Request body with SSL certificate information.",
                                "required": [
                                    "hosts",
                                    "certificate",
                                    "privateKey"
                                ],
                                "properties": {
                                    "hosts": {
                                        "type": "array",
                                        "description": "List of hosts.",
                                        "items": {
                                            "type": "string",
                                            "description": "Host name.",
                                            "example": "mystore.com"
                                        }
                                    },
                                    "certificate": {
                                        "type": "string",
                                        "description": "Base64 encoded SSL certificate.",
                                        "example": "LS0tLS1CRUd...S0tLS0K"
                                    },
                                    "privateKey": {
                                        "type": "string",
                                        "description": "Base64 encoded SSL  certificate private key.",
                                        "example": "LS0tLS1CRUd...LS0NCg=="
                                    }
                                }
                            }
                        },
                        "multipart/form-data": {
                            
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "description": "List of SSL certificates.",
                                    "items": {
                                        "type": "object",
                                        "description": "Information about each SSL certificate.",
                                        "properties": {
                                            "id": {
                                                "type": "string",
                                                "description": "Unique identifier of the certificate.",
                                                "nullable": false
                                            },
                                            "account": {
                                                "type": "string",
                                                "description": "Account name associated with the certificate.",
                                                "nullable": false
                                            },
                                            "host": {
                                                "type": "string",
                                                "description": "Primary host/domain of the certificate.",
                                                "nullable": false
                                            },
                                            "serialNumber": {
                                                "type": "string",
                                                "description": "Certificate serial number.",
                                                "nullable": false
                                            },
                                            "subjectDistinguishedName": {
                                                "type": "string",
                                                "description": "Full distinguished name of the subject.",
                                                "nullable": false
                                            },
                                            "subjectCommonName": {
                                                "type": "string",
                                                "description": "Common name (CN) of the certificate subject.",
                                                "nullable": false
                                            },
                                            "subjectOrganization": {
                                                "type": "string",
                                                "description": "Organization (O) of the certificate subject.",
                                                "nullable": true
                                            },
                                            "issuerDistinguishedName": {
                                                "type": "string",
                                                "description": "Full distinguished name of the issuing certificate authority.",
                                                "nullable": false
                                            },
                                            "issuerCommonName": {
                                                "type": "string",
                                                "description": "Common name (CN) of the certificate issuer.",
                                                "nullable": false
                                            },
                                            "issuerOrganization": {
                                                "type": "string",
                                                "description": "Organization (O) of the certificate issuer.",
                                                "nullable": false
                                            },
                                            "installDate": {
                                                "type": "string",
                                                "description": "Timestamp when the certificate was installed in ISO 8601 format.",
                                                "nullable": false
                                            },
                                            "startDate": {
                                                "type": "string",
                                                "description": "Certificate validity start date in ISO 8601 format.",
                                                "nullable": false
                                            },
                                            "expiryDate": {
                                                "type": "string",
                                                "description": "Certificate expiry date in ISO 8601 format.",
                                                "nullable": false
                                            },
                                            "signatureAlgorithm": {
                                                "type": "string",
                                                "description": "Algorithm used to sign the certificate.",
                                                "nullable": false
                                            },
                                            "x509Version": {
                                                "type": "string",
                                                "description": "X.509 version of the certificate.",
                                                "nullable": false
                                            },
                                            "installedBy": {
                                                "type": "string",
                                                "description": "ID of the user that installed the certificate.",
                                                "nullable": false
                                            },
                                            "createdAt": {
                                                "type": "string",
                                                "description": "Creation timestamp of the certificate entry in ISO 8601 format.",
                                                "nullable": false
                                            },
                                            "updatedAt": {
                                                "type": "string",
                                                "description": "Timestamp of the last certificate update in ISO 8601 format.",
                                                "nullable": false
                                            },
                                            "status": {
                                                "type": "string",
                                                "description": "Current status of the certificate, which can be one of the following:\n\n- **Active**: Valid and active for the host.\n- **Overwritten**: The certificate for this host has been replaced by another through an external method, such as an API call on the CDN.\n- **Installing**: Certificate installation in progress.\n- **Unknown**: The certificate status couldn't be determined due to internal technical problems with communication, configuration, or monitoring.\n- **Expires soon**: The certificate is close to its expiration date (30 days before or less).\n- **Installation failed**: After the status Installing, the installation can fail, and the user will need to try again later.\n- **Expired**: The expiration date passed.",
                                                "nullable": false,
                                                "enum": [
                                                    "Active",
                                                    "Overwritten",
                                                    "Installing",
                                                    "Unknown",
                                                    "Expires soon",
                                                    "Installation failed",
                                                    "Expired"
                                                ]
                                            }
                                        }
                                    }
                                },
                                "example": [
                                    {
                                        "id": "8c66122e-85cd-4bff-885d-aa9846e97541",
                                        "account": "myaccountname",
                                        "host": "mystore.com",
                                        "serialNumber": "05C51F848EDBAC18E91D9AE43D8F6728D4F8",
                                        "subjectDistinguishedName": "CN=mystore.com",
                                        "subjectCommonName": "mystore.com",
                                        "subjectOrganization": null,
                                        "issuerDistinguishedName": "CN=R10, O=Let's Encrypt, C=US",
                                        "issuerCommonName": "R10",
                                        "issuerOrganization": "Let's Encrypt",
                                        "installDate": "2025-04-22T16:24:58.768939Z",
                                        "startDate": "2024-08-29T01:43:25Z",
                                        "expiryDate": "2024-11-27T01:43:24Z",
                                        "signatureAlgorithm": "sha256RSA",
                                        "x509Version": "3",
                                        "installedBy": "22b312e1-f863-43t7-8c59-5n2f9ll0d09x",
                                        "createdAt": "2024-10-25T17:51:51.222052Z",
                                        "updatedAt": "2025-04-22T16:24:58.768939Z",
                                        "status": "Installing"
                                    }
                                ]
                            }
                        }
                    }
                }
            }
        },
        "/api/edge/certificates/{certificateId}": {
            "get": {
                "tags": [
                    "SSL Certificates"
                ],
                "summary": "Get certificate by ID",
                "description": "Retrieves information about a specific SSL certificate.",
                "parameters": [
                    {
                        "name": "certificateId",
                        "in": "path",
                        "description": "SSL certificate unique identifier.",
                        "required": true,
                        "style": "simple",
                        "schema": {
                            "type": "string",
                            "example": "8c66122e-85cd-4bff-885d-aa9846e97541"
                        }
                    },
                    {
                        "$ref": "#/components/parameters/Content-Type"
                    },
                    {
                        "$ref": "#/components/parameters/Accept"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "description": "Information about an SSL certificate.",
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "description": "Unique identifier of the certificate.",
                                            "nullable": false
                                        },
                                        "account": {
                                            "type": "string",
                                            "description": "Account name associated with the certificate.",
                                            "nullable": false
                                        },
                                        "host": {
                                            "type": "string",
                                            "description": "Primary host/domain of the certificate.",
                                            "nullable": false
                                        },
                                        "serialNumber": {
                                            "type": "string",
                                            "description": "Certificate serial number.",
                                            "nullable": false
                                        },
                                        "subjectDistinguishedName": {
                                            "type": "string",
                                            "description": "Full distinguished name of the subject.",
                                            "nullable": false
                                        },
                                        "subjectCommonName": {
                                            "type": "string",
                                            "description": "Common name (CN) of the certificate subject.",
                                            "nullable": false
                                        },
                                        "subjectOrganization": {
                                            "type": "string",
                                            "description": "Organization (O) of the certificate subject.",
                                            "nullable": true
                                        },
                                        "issuerDistinguishedName": {
                                            "type": "string",
                                            "description": "Full distinguished name of the issuing certificate authority.",
                                            "nullable": false
                                        },
                                        "issuerCommonName": {
                                            "type": "string",
                                            "description": "Common name (CN) of the certificate issuer.",
                                            "nullable": false
                                        },
                                        "issuerOrganization": {
                                            "type": "string",
                                            "description": "Organization (O) of the certificate issuer.",
                                            "nullable": false
                                        },
                                        "installDate": {
                                            "type": "string",
                                            "description": "Timestamp when the certificate was installed in ISO 8601 format.",
                                            "nullable": false
                                        },
                                        "startDate": {
                                            "type": "string",
                                            "description": "Certificate validity start date in ISO 8601 format.",
                                            "nullable": false
                                        },
                                        "expiryDate": {
                                            "type": "string",
                                            "description": "Certificate expiry date in ISO 8601 format.",
                                            "nullable": false
                                        },
                                        "signatureAlgorithm": {
                                            "type": "string",
                                            "description": "Algorithm used to sign the certificate.",
                                            "nullable": false
                                        },
                                        "x509Version": {
                                            "type": "string",
                                            "description": "X.509 version of the certificate.",
                                            "nullable": false
                                        },
                                        "installedBy": {
                                            "type": "string",
                                            "description": "ID of the user that installed the certificate.",
                                            "nullable": false
                                        },
                                        "createdAt": {
                                            "type": "string",
                                            "description": "Creation timestamp of the certificate entry in ISO 8601 format.",
                                            "nullable": false
                                        },
                                        "updatedAt": {
                                            "type": "string",
                                            "description": "Timestamp of the last certificate update in ISO 8601 format.",
                                            "nullable": false
                                        },
                                        "status": {
                                            "type": "string",
                                            "description": "Current status of the certificate, which can be one of the following:\n\n- **Active**: Valid and active for the host.\n- **Overwritten**: The certificate for this host has been replaced by another through an external method, such as an API call on the CDN.\n- **Installing**: Certificate installation in progress.\n- **Unknown**: The certificate status couldn't be determined due to internal technical problems with communication, configuration, or monitoring.\n- **Expires soon**: The certificate is close to its expiration date (30 days before or less).\n- **Installation failed**: After the status Installing, the installation can fail, and the user will need to try again later.\n- **Expired**: The expiration date passed.",
                                            "nullable": false,
                                            "enum": [
                                                "Active",
                                                "Overwritten",
                                                "Installing",
                                                "Unknown",
                                                "Expires soon",
                                                "Installation failed",
                                                "Expired"
                                            ]
                                        }
                                    }
                                },
                                "example": {
                                    "id": "8c66122e-85cd-4bff-885d-aa9846e97541",
                                    "account": "myaccountname",
                                    "host": "mystore.com",
                                    "serialNumber": "05C51F848EDBAC18E91D9AE43D8F6728D4F8",
                                    "subjectDistinguishedName": "CN=mystore.com",
                                    "subjectCommonName": "mystore.com",
                                    "subjectOrganization": null,
                                    "issuerDistinguishedName": "CN=R10, O=Let's Encrypt, C=US",
                                    "issuerCommonName": "R10",
                                    "issuerOrganization": "Let's Encrypt",
                                    "installDate": "2025-04-22T16:24:58.768939Z",
                                    "startDate": "2024-08-29T01:43:25Z",
                                    "expiryDate": "2024-11-27T01:43:24Z",
                                    "signatureAlgorithm": "sha256RSA",
                                    "x509Version": "3",
                                    "installedBy": "22b312e1-f863-43t7-8c59-5n2f9ll0d09x",
                                    "createdAt": "2024-10-25T17:51:51.222052Z",
                                    "updatedAt": "2025-04-22T16:24:58.768939Z",
                                    "status": "Active"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "security": [
        {
            "appKey": [],
            "appToken": []
        },
        {
            "VtexIdclientAutCookie": []
        }
    ],
    "components": {
        "securitySchemes": {
            "appKey": {
                "type": "apiKey",
                "in": "header",
                "name": "X-VTEX-API-AppKey",
                "description": "Unique identifier of the [application key](https://developers.vtex.com/docs/guides/api-authentication-using-application-keys)."
            },
            "appToken": {
                "type": "apiKey",
                "in": "header",
                "name": "X-VTEX-API-AppToken",
                "description": "Secret token of the [application key](https://developers.vtex.com/docs/guides/api-authentication-using-application-keys)."
            },
            "VtexIdclientAutCookie": {
                "type": "apiKey",
                "in": "header",
                "name": "VtexIdclientAutCookie",
                "description": "[User token](https://developers.vtex.com/docs/guides/api-authentication-using-user-tokens), valid for 24 hours."
            }
        },
        "parameters": {
            "Content-Type": {
                "name": "Content-Type",
                "in": "header",
                "description": "Type of the content being sent.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "example": "application/json"
                }
            },
            "Accept": {
                "name": "Accept",
                "in": "header",
                "description": "HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "example": "application/json"
                }
            }
        }
    },
    "tags": [
        {
            "name": "SSL Certificates"
        }
    ]
}