{
  "_": {
    "postman_id": "dd6f7306-fcce-41b6-86e8-1dd816db768e"
  },
  "item": [
    {
      "id": "010fa598-20ed-4b44-92f9-5b1a9a156381",
      "name": "Shopper schema",
      "description": {
        "content": "Operations related to shopper schema.",
        "type": "text/plain"
      },
      "item": [
        {
          "id": "e5011d0a-f7df-4909-81f6-d31cda3a16ec",
          "name": "Get shopper schema",
          "request": {
            "name": "Get shopper schema",
            "description": {
              "content": "This endpoint retrieves a shopper entity [schema](https://developers.vtex.com/docs/guides/master-data-schema-lifecycle) with shopper personal data.\r\n\r\n> ℹ️ The shopper schema supports `additionalProperties: true`, allowing clients to send and persist additional properties beyond the defined schema properties (e.g., `phone2`, `marketingOptIn`, or any business-specific fields).\r\n\r\n## Permissions\r\n\r\nThis endpoint does not require [authentication](https://developers.vtex.com/docs/guides/authentication) or [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "dataentities",
                "shopper",
                "schemas",
                "v1"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "GET",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "2b0a787a-3709-4656-a932-84af73d73e55",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "dataentities",
                    "shopper",
                    "schemas",
                    "v1"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "[\n  {\n    \"name\": \"v1\",\n    \"schema\": {\n      \"title\": \"shopper\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"userId\": {\n          \"type\": \"string\",\n          \"format\": \"uuid\"\n        },\n        \"email\": {\n          \"type\": \"string\"\n        },\n        \"firstName\": {\n          \"type\": \"string\"\n        },\n        \"lastName\": {\n          \"type\": \"string\"\n        },\n        \"document\": {\n          \"type\": \"string\"\n        },\n        \"documentType\": {\n          \"type\": \"string\"\n        },\n        \"phone\": {\n          \"type\": \"string\"\n        },\n        \"cards\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"cardId\": {\n                \"type\": \"string\"\n              },\n              \"paymentSystem\": {\n                \"type\": \"string\"\n              },\n              \"paymentSystemName\": {\n                \"type\": \"string\"\n              },\n              \"cardNumber\": {\n                \"type\": \"string\",\n                \"pattern\": \"^[\\\\*]{12}[0-9]{4}$\"\n              },\n              \"bin\": {\n                \"type\": \"string\"\n              },\n              \"expirationDate\": {\n                \"type\": \"string\"\n              },\n              \"useCvvForAuthorization\": {\n                \"type\": \"boolean\"\n              },\n              \"cardLabel\": {\n                \"type\": \"string\"\n              },\n              \"isCardToken\": {\n                \"type\": \"boolean\"\n              },\n              \"availableAddresses\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"string\"\n                }\n              }\n            },\n            \"additionalProperties\": false\n          }\n        }\n      },\n      \"additionalProperties\": true,\n      \"required\": [\n        \"userId\",\n        \"firstName\",\n        \"lastName\"\n      ],\n      \"v-indexed\": [\n        \"userId\",\n        \"unitId\",\n        \"firstName\",\n        \"lastName\",\n        \"document\",\n        \"phone\"\n      ]\n    }\n  }\n]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "668461ee-83de-4159-a2c6-82e8c9443db5",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/api/dataentities/shopper/schemas/v1 - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[GET]::/api/dataentities/shopper/schemas/v1 - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[GET]::/api/dataentities/shopper/schemas/v1 - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\",\"description\":\"Schema name.\"},\"schema\":{\"type\":\"object\",\"description\":\"Shopper schema definition containing properties, required fields, and indexed fields.\",\"properties\":{\"title\":{\"type\":\"string\",\"description\":\"Schema title.\"},\"type\":{\"type\":\"string\",\"description\":\"Schema type.\"},\"properties\":{\"type\":\"object\",\"description\":\"Object containing schema properties.\",\"properties\":{\"userId\":{\"type\":\"string\",\"format\":\"uuid\",\"description\":\"Unique shopper identifier.\"},\"email\":{\"type\":\"string\",\"description\":\"Shopper's email.\"},\"firstName\":{\"type\":\"string\",\"description\":\"Shopper's first name.\"},\"lastName\":{\"type\":\"string\",\"description\":\"Shopper's last name.\"},\"document\":{\"type\":\"string\",\"description\":\"Shopper's document number (e.g., CPF).\"},\"documentType\":{\"type\":\"string\",\"description\":\"Type of document (e.g., `cpf`).\"},\"phone\":{\"type\":\"string\",\"description\":\"Shopper's phone number.\"},\"unitId\":{\"type\":\"string\",\"description\":\"Unique ID of the Organization Unit.\"},\"cards\":{\"type\":\"array\",\"description\":\"Array of saved credit cards.\",\"items\":{\"type\":\"object\",\"description\":\"Credit card information.\",\"properties\":{\"cardId\":{\"type\":\"string\",\"description\":\"Unique identifier of the saved card.\"},\"paymentSystem\":{\"type\":\"string\",\"description\":\"Code representing the payment system (e.g., `2` for Visa).\"},\"paymentSystemName\":{\"type\":\"string\",\"description\":\"Name of the payment system (e.g., `Visa`).\"},\"cardNumber\":{\"type\":\"string\",\"description\":\"Masked credit card number.\",\"pattern\":\"^[\\\\*]{12}[0-9]{4}$\"},\"bin\":{\"type\":\"string\",\"description\":\"Bank Identification Number – the first digits of the card.\"},\"expirationDate\":{\"type\":\"string\",\"description\":\"Expiry date of the card in `MM/YYYY` format.\"},\"useCvvForAuthorization\":{\"type\":\"boolean\",\"description\":\"Indicates if CVV is required for authorization.\"},\"cardLabel\":{\"type\":\"string\",\"description\":\"Label or nickname for the card.\"},\"isCardToken\":{\"type\":\"boolean\",\"description\":\"Indicates whether the card data is tokenized.\"},\"availableAddresses\":{\"type\":\"array\",\"description\":\"Array of address IDs the card is associated with.\",\"items\":{\"type\":\"string\",\"description\":\"Address identifier.\"}}}}}}},\"additionalProperties\":{\"type\":\"boolean\",\"description\":\"When `true`, allows clients to send and persist custom fields beyond the defined schema. This enables storing extra fields like `phone2`, `marketingOptIn`, or any shopper-specific data.\"},\"required\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"description\":\"Name of a required property field.\"},\"description\":\"Required properties fields.\"},\"v-indexed\":{\"type\":\"array\",\"items\":{\"type\":\"string\",\"description\":\"Name of an indexed property field.\"},\"description\":\"Indexed properties fields.\"}},\"required\":[\"title\",\"type\",\"properties\"]}},\"required\":[\"name\",\"schema\"]}}\n\n// Validate if response matches JSON schema \npm.test(\"[GET]::/api/dataentities/shopper/schemas/v1 - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        }
      ],
      "event": []
    },
    {
      "id": "09ea3914-08dd-4157-afe8-8709017d7e3e",
      "name": "Shopper documents",
      "description": {
        "content": "Operations related to shopper documents.",
        "type": "text/plain"
      },
      "item": [
        {
          "id": "704b7420-03d8-4436-b6f2-b7c91fa8e421",
          "name": "Create shopper document",
          "request": {
            "name": "Create shopper document",
            "description": {
              "content": "This endpoint creates a shopper entity document.\r\n\r\n> ℹ️ The shopper schema supports additional properties. Clients can include extra properties (e.g., `phone2`, `marketingOptIn`) in the request body, and they will be persisted alongside the standard fields.## Permissions\r\n\r\nThis endpoint does not require [authentication](https://developers.vtex.com/docs/guides/authentication) or [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "dataentities",
                "shopper",
                "documents"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Schema name. The value must be `v1`.",
                    "type": "text/plain"
                  },
                  "key": "_schema",
                  "value": "v1"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"8abea412-4702-46fb-b835-3edb29d8a261\",\n  \"email\": \"john@vtex.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"document\": \"514.427.690-33\",\n  \"documentType\": \"cpf\",\n  \"cards\": [],\n  \"phone\": \"11917118990\",\n  \"phone2\": \"11987654321\",\n  \"marketingOptIn\": true\n}",
              "options": {
                "raw": {
                  "headerFamily": "json",
                  "language": "json"
                }
              }
            },
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "a9eed4ed-b2b8-4004-8f43-5b79311ff733",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "dataentities",
                    "shopper",
                    "documents"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) Schema name. The value must be `v1`.",
                        "type": "text/plain"
                      },
                      "key": "_schema",
                      "value": "v1"
                    }
                  ],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"userId\": \"8abea412-4702-46fb-b835-3edb29d8a261\",\n  \"email\": \"john@vtex.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"document\": \"514.427.690-33\",\n  \"documentType\": \"cpf\",\n  \"cards\": [],\n  \"phone\": \"11917118990\",\n  \"phone2\": \"11987654321\",\n  \"marketingOptIn\": true\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"Id\": \"shopper-a26301e6-1a1e-11f0-b37f-e46d3d0578c6\",\n  \"Href\": \"\",\n  \"DocumentId\": \"a26301e6-1a1e-11f0-b37f-e46d3d0578c6\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7841f721-3518-4412-8a61-002f3343a548",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[POST]::/api/dataentities/shopper/documents - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[POST]::/api/dataentities/shopper/documents - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[POST]::/api/dataentities/shopper/documents - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"object\",\"description\":\"Response object returned when a document is successfully created.\",\"properties\":{\"Id\":{\"type\":\"string\",\"description\":\"Unique identifier of the document, often prefixed with the entity name.\"},\"Href\":{\"type\":\"string\",\"description\":\"URL to access the document. May be empty if not applicable.\"},\"DocumentId\":{\"type\":\"string\",\"description\":\"Same as `Id`, used internally to identify the document.\"}},\"required\":[\"Id\",\"DocumentId\"]}\n\n// Validate if response matches JSON schema \npm.test(\"[POST]::/api/dataentities/shopper/documents - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "cd20796f-0afd-419e-9a0a-2f55a6d87d4f",
          "name": "Get shopper document by user ID",
          "request": {
            "name": "Get shopper document by user ID",
            "description": {
              "content": "This endpoint retrieves a shopper entity document by User ID.\r\n\r\n> ℹ️ The response may include additional properties beyond the standard schema if they were previously stored (e.g., `phone2`, `marketingOptIn`).## Permissions\r\n\r\nThis endpoint does not require [authentication](https://developers.vtex.com/docs/guides/authentication) or [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "dataentities",
                "shopper",
                "documents",
                ":userId"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Unique identifier for the shopper.",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "8abea412-4702-46fb-b835-3edb29d8a261",
                  "key": "userId"
                }
              ]
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "GET",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "823ef3fd-226a-4925-862c-cf298cd11524",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "dataentities",
                    "shopper",
                    "documents",
                    ":userId"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"userId\": \"8abea412-4702-46fb-b835-3edb29d8a261\",\n  \"email\": \"john@vtex.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"document\": \"514.427.690-33\",\n  \"documentType\": \"cpf\",\n  \"phone\": \"11917118990\",\n  \"phone2\": \"11987654321\",\n  \"marketingOptIn\": true,\n  \"cards\": [\n    {\n      \"cardId\": \"D05881AD4F424A6C93D8536C9F7F992E\",\n      \"paymentSystem\": \"2\",\n      \"paymentSystemName\": \"Visa\",\n      \"cardNumber\": \"************3232\",\n      \"bin\": \"22343333\",\n      \"availableAddresses\": [\n        \"12345\"\n      ],\n      \"expirationDate\": \"02/2029\",\n      \"useCvvForAuthorization\": true,\n      \"isCardToken\": false\n    }\n  ]\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6376c825-c082-4f02-8b89-08630e4c4f4c",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/api/dataentities/shopper/documents/:userId - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[GET]::/api/dataentities/shopper/documents/:userId - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[GET]::/api/dataentities/shopper/documents/:userId - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"object\",\"description\":\"Shopper document. May include additional properties beyond the standard schema if they were previously stored.\",\"properties\":{\"userId\":{\"type\":\"string\",\"format\":\"uuid\",\"description\":\"Unique identifier for the shopper.\"},\"email\":{\"type\":\"string\",\"description\":\"Shopper's email.\"},\"firstName\":{\"type\":\"string\",\"description\":\"Shopper's first name.\"},\"lastName\":{\"type\":\"string\",\"description\":\"Shopper's last name.\"},\"document\":{\"type\":\"string\",\"description\":\"Shopper's document number (e.g., CPF number).\"},\"documentType\":{\"type\":\"string\",\"description\":\"Type of the document provided (e.g., `cpf`).\"},\"phone\":{\"type\":\"string\",\"description\":\"Shopper's phone number.\"},\"unitId\":{\"type\":\"string\",\"description\":\"Unique ID of the Organization Unit.\"},\"cards\":{\"type\":\"array\",\"description\":\"List of cards associated with the shopper.\",\"items\":{\"type\":\"object\",\"description\":\"Credit card information.\",\"properties\":{\"cardId\":{\"type\":\"string\",\"description\":\"Unique identifier of the saved card.\"},\"paymentSystem\":{\"type\":\"string\",\"description\":\"Code representing the payment system (e.g., `2` for Visa).\"},\"paymentSystemName\":{\"type\":\"string\",\"description\":\"Name of the payment system (e.g., `Visa`).\"},\"cardNumber\":{\"type\":\"string\",\"description\":\"Masked credit card number.\"},\"bin\":{\"type\":\"string\",\"description\":\"Bank Identification Number – the first digits of the card.\"},\"expirationDate\":{\"type\":\"string\",\"description\":\"Expiry date of the card in `MM/YYYY` format.\"},\"useCvvForAuthorization\":{\"type\":\"boolean\",\"description\":\"Indicates if CVV is required for authorization.\"},\"cardLabel\":{\"type\":\"string\",\"description\":\"Label or nickname for the card.\"},\"isCardToken\":{\"type\":\"boolean\",\"description\":\"Indicates whether the card data is tokenized.\"},\"availableAddresses\":{\"type\":\"array\",\"description\":\"Array of address IDs the card is associated with.\",\"items\":{\"type\":\"string\",\"description\":\"Address identifier.\"}}}}}}}\n\n// Validate if response matches JSON schema \npm.test(\"[GET]::/api/dataentities/shopper/documents/:userId - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "d5e6a61d-ded4-410e-8fca-644108993452",
          "name": "Search shopper document by user ID",
          "request": {
            "name": "Search shopper document by user ID",
            "description": {
              "content": "This endpoint searches a shopper entity document by User ID.\r\n\r\n> ℹ️ The response may include additional properties beyond the standard schema if they were previously stored (e.g., `phone2`, `marketingOptIn`).## Permissions\r\n\r\nThis endpoint does not require [authentication](https://developers.vtex.com/docs/guides/authentication) or [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "dataentities",
                "shopper",
                "search"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "disabled": true,
                  "description": {
                    "content": "Unique identifier for the shopper. Use the `userId={{userId}}` value.",
                    "type": "text/plain"
                  },
                  "key": "_where",
                  "value": "userId=8abea412-4702-46fb-b835-3edb29d8a261"
                },
                {
                  "disabled": true,
                  "description": {
                    "content": "Schema name. The value must be `v1`.",
                    "type": "text/plain"
                  },
                  "key": "_schema",
                  "value": "v1"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/vnd.vtex.create-budget+json"
              }
            ],
            "method": "GET",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "d3b2690d-091e-4355-847c-d3b7b8fc46ea",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "dataentities",
                    "shopper",
                    "search"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [
                    {
                      "disabled": true,
                      "description": {
                        "content": "Unique identifier for the shopper. Use the `userId={{userId}}` value.",
                        "type": "text/plain"
                      },
                      "key": "_where",
                      "value": "userId=8abea412-4702-46fb-b835-3edb29d8a261"
                    },
                    {
                      "disabled": true,
                      "description": {
                        "content": "Schema name. The value must be `v1`.",
                        "type": "text/plain"
                      },
                      "key": "_schema",
                      "value": "v1"
                    }
                  ],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/vnd.vtex.create-budget+json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/vnd.vtex.create-budget+json"
                }
              ],
              "body": "[\n  {\n    \"userId\": \"8abea412-4702-46fb-b835-3edb29d8a261\",\n    \"email\": \"john@vtex.com\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"document\": \"514.427.690-33\",\n    \"documentType\": \"cpf\",\n    \"phone\": \"11917118990\",\n    \"phone2\": \"11987654321\",\n    \"marketingOptIn\": true,\n    \"cards\": [\n      {\n        \"cardId\": \"D05881AD4F424A6C93D8536C9F7F992E\",\n        \"paymentSystem\": \"2\",\n        \"paymentSystemName\": \"Visa\",\n        \"cardNumber\": \"************3232\",\n        \"bin\": \"22343333\",\n        \"availableAddresses\": [\n          \"12345\"\n        ],\n        \"expirationDate\": \"02/2029\",\n        \"useCvvForAuthorization\": true,\n        \"isCardToken\": false\n      }\n    ]\n  }\n]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7f5e89d7-b11d-45ec-8323-29962bf8773e",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/api/dataentities/shopper/search - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[GET]::/api/dataentities/shopper/search - Content-Type is application/vnd.vtex.create-budget+json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/vnd.vtex.create-budget+json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[GET]::/api/dataentities/shopper/search - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"array\",\"items\":{\"type\":\"object\",\"description\":\"Shopper document. May include additional properties beyond the standard schema if they were previously stored.\",\"properties\":{\"userId\":{\"type\":\"string\",\"format\":\"uuid\",\"description\":\"Unique identifier for the shopper.\"},\"email\":{\"type\":\"string\",\"description\":\"Shopper's email.\"},\"firstName\":{\"type\":\"string\",\"description\":\"Shopper's first name.\"},\"lastName\":{\"type\":\"string\",\"description\":\"Shopper's last name.\"},\"document\":{\"type\":\"string\",\"description\":\"Shopper's document number (e.g., CPF number).\"},\"documentType\":{\"type\":\"string\",\"description\":\"Type of the document provided (e.g., `cpf`).\"},\"phone\":{\"type\":\"string\",\"description\":\"Shopper's phone number.\"},\"unitId\":{\"type\":\"string\",\"description\":\"Unique ID of the Organization Unit.\"},\"cards\":{\"type\":\"array\",\"description\":\"List of cards associated with the shopper.\",\"items\":{\"type\":\"object\",\"description\":\"Credit card information.\",\"properties\":{\"cardId\":{\"type\":\"string\",\"description\":\"Unique identifier of the saved card.\"},\"paymentSystem\":{\"type\":\"string\",\"description\":\"Code representing the payment system (e.g., `2` for Visa).\"},\"paymentSystemName\":{\"type\":\"string\",\"description\":\"Name of the payment system (e.g., `Visa`).\"},\"cardNumber\":{\"type\":\"string\",\"description\":\"Masked credit card number.\"},\"bin\":{\"type\":\"string\",\"description\":\"Bank Identification Number – the first digits of the card.\"},\"expirationDate\":{\"type\":\"string\",\"description\":\"Expiry date of the card in `MM/YYYY` format.\"},\"useCvvForAuthorization\":{\"type\":\"boolean\",\"description\":\"Indicates if CVV is required for authorization.\"},\"cardLabel\":{\"type\":\"string\",\"description\":\"Label or nickname for the card.\"},\"isCardToken\":{\"type\":\"boolean\",\"description\":\"Indicates whether the card data is tokenized.\"},\"availableAddresses\":{\"type\":\"array\",\"description\":\"Array of address IDs the card is associated with.\",\"items\":{\"type\":\"string\",\"description\":\"Address identifier.\"}}}}}}}}\n\n// Validate if response matches JSON schema \npm.test(\"[GET]::/api/dataentities/shopper/search - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        }
      ],
      "event": []
    }
  ],
  "event": [],
  "variable": [
    {
      "type": "any",
      "value": "apiexamples",
      "key": "accountName"
    },
    {
      "type": "any",
      "value": "vtexcommercestable",
      "key": "environment"
    },
    {
      "type": "any",
      "value": "https://{{accountName}}.{{environment}}.com.br",
      "key": "baseUrl"
    }
  ],
  "info": {
    "_postman_id": "dd6f7306-fcce-41b6-86e8-1dd816db768e",
    "name": "Shopper Data API",
    "version": {
      "raw": "1.0.0",
      "major": 1,
      "minor": 0,
      "patch": 0,
      "prerelease": [],
      "build": [],
      "string": "1.0.0"
    },
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": {
      "content": "The Shopper Data API allows you to create, update, and retrieve shopper personal information stored in a Master Data entity. \r\n\r\nThe shopper schema supports `additionalProperties: true`, allowing clients to send and persist additional properties beyond the defined schema properties (e.g., `phone2`, `marketingOptIn`, or any business-specific fields).\r\n\r\nLearn more about [Master Data schema lifecycle](https://developers.vtex.com/docs/guides/master-data-schema-lifecycle).\r\n\r\n### Shopper Data\r\n\r\n- `GET` [Get shopper schema](https://developers.vtex.com/docs/api-reference/shopper-data-api#get-/api/dataentities/shopper/schemas/v1)\r\n\r\n- `POST` [Create shopper document](https://developers.vtex.com/docs/api-reference/shopper-data-api#post-/api/dataentities/shopper/documents)\r\n\r\n- `GET` [Get shopper document by User ID](https://developers.vtex.com/docs/api-reference/shopper-data-api#get-/api/dataentities/shopper/documents/-userId-)\r\n\r\n- `GET` [Search shopper document by User ID](https://developers.vtex.com/docs/api-reference/shopper-data-api#get-/api/dataentities/shopper/search)",
      "type": "text/plain"
    }
  }
}