{
  "_": {
    "postman_id": "7cf7fcfe-8a7d-40bb-8473-f61d9213c9fa"
  },
  "item": [
    {
      "id": "0108110c-b395-4f22-9c31-b4e5de9b0475",
      "name": "Buyer data",
      "description": {
        "content": "",
        "type": "text/plain"
      },
      "item": [
        {
          "id": "cc3f6d13-64d4-41db-ba30-1a023c5217b0",
          "name": "Get buyer schema",
          "request": {
            "name": "Get buyer schema",
            "description": {
              "content": "This endpoint retrieves a buyer entity [schema](https://developers.vtex.com/docs/guides/master-data-schema-lifecycle) with buyer personal data.\r\n\r\n> ℹ️ The buyer schema supports `additionalProperties: true`, allowing clients to send and persist additional properties beyond the defined schema properties (e.g., `phone2`, `marketingOptIn`, or any business-specific fields).\n\n>⚠️ This feature is only available for stores using B2B Buyer Portal, which is currently available to select accounts.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/api-authentication-using-api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| Dynamic Storage | Dynamic storage generic resources | **Read only documents** |\r\n| Dynamic Storage | Dynamic storage generic resources | **Insert or update document (not remove)** |\r\n| Dynamic Storage | Dynamic storage generic resources | **Full access to all documents** |\r\n| Dynamic Storage | Dynamic storage generic resources | **Master Data administrator** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.To learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "dataentities",
                "shopper",
                "schemas",
                "v1"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "GET",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "ee279cca-0a34-45aa-ae19-66d75f2a3fdf",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "dataentities",
                    "shopper",
                    "schemas",
                    "v1"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "[\n  {\n    \"name\": \"v1\",\n    \"schema\": {\n      \"title\": \"buyer\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"userId\": {\n          \"type\": \"string\",\n          \"format\": \"uuid\"\n        },\n        \"email\": {\n          \"type\": \"string\"\n        },\n        \"firstName\": {\n          \"type\": \"string\"\n        },\n        \"lastName\": {\n          \"type\": \"string\"\n        },\n        \"document\": {\n          \"type\": \"string\"\n        },\n        \"documentType\": {\n          \"type\": \"string\"\n        },\n        \"phone\": {\n          \"type\": \"string\"\n        },\n        \"cards\": {\n          \"type\": \"array\",\n          \"items\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"cardId\": {\n                \"type\": \"string\"\n              },\n              \"paymentSystem\": {\n                \"type\": \"string\"\n              },\n              \"paymentSystemName\": {\n                \"type\": \"string\"\n              },\n              \"cardNumber\": {\n                \"type\": \"string\",\n                \"pattern\": \"^[\\\\*]{12}[0-9]{4}$\"\n              },\n              \"bin\": {\n                \"type\": \"string\"\n              },\n              \"expirationDate\": {\n                \"type\": \"string\"\n              },\n              \"useCvvForAuthorization\": {\n                \"type\": \"boolean\"\n              },\n              \"cardLabel\": {\n                \"type\": \"string\"\n              },\n              \"isCardToken\": {\n                \"type\": \"boolean\"\n              },\n              \"availableAddresses\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"string\"\n                }\n              }\n            },\n            \"additionalProperties\": false\n          }\n        }\n      },\n      \"additionalProperties\": true,\n      \"required\": [\n        \"userId\",\n        \"firstName\",\n        \"lastName\"\n      ],\n      \"v-indexed\": [\n        \"userId\",\n        \"firstName\",\n        \"lastName\",\n        \"document\",\n        \"phone\"\n      ]\n    }\n  }\n]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e4f09117-4c3b-4503-a5ed-ce8b9d77947e",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/api/dataentities/shopper/schemas/v1 - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[GET]::/api/dataentities/shopper/schemas/v1 - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[GET]::/api/dataentities/shopper/schemas/v1 - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"array\",\"items\":{\"type\":\"object\",\"description\":\"Schema response containing the buyer entity schema definition with properties, required fields, and indexed fields configuration.\",\"properties\":{\"name\":{\"type\":\"string\",\"description\":\"Schema name.\"},\"schema\":{\"type\":\"object\",\"description\":\"Buyer schema definition containing properties, required fields, and indexed fields.\",\"properties\":{\"title\":{\"type\":\"string\",\"description\":\"Schema title.\"},\"type\":{\"type\":\"string\",\"description\":\"Schema type.\"},\"properties\":{\"type\":\"object\",\"description\":\"Schema properties definition.\",\"properties\":{\"userId\":{\"required\":[\"type\",\"format\"],\"type\":\"object\",\"description\":\"Buyer identifier definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the buyer ID field.\"},\"format\":{\"type\":\"string\",\"description\":\"Indicates the expected format for the buyer ID field.\"}}},\"email\":{\"type\":\"object\",\"description\":\"Email field definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the email field.\"}}},\"firstName\":{\"type\":\"object\",\"description\":\"Buyer's first name definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the first name field.\"}}},\"lastName\":{\"type\":\"object\",\"description\":\"Buyer's last name definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the last name field.\"}}},\"document\":{\"type\":\"object\",\"description\":\"Buyer's document number (e.g., CPF) definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the document number field.\"}}},\"documentType\":{\"type\":\"object\",\"description\":\"Type of document (e.g., `cpf`) definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the document type field.\"}}},\"phone\":{\"type\":\"object\",\"description\":\"Buyer's phone number definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the phone number field.\"}}},\"cards\":{\"type\":\"object\",\"description\":\"Saved credit cards information. This field is used by the checkout module.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the cards field.\"},\"items\":{\"type\":\"object\",\"description\":\"Credit card information.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the card ID field.\"},\"properties\":{\"type\":\"object\",\"description\":\"Credit card information.\",\"properties\":{\"cardId\":{\"type\":\"object\",\"description\":\"Unique identifier of the saved card definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the card ID field.\"}}},\"paymentSystem\":{\"type\":\"object\",\"description\":\"Payment system definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the payment system field.\"}}},\"paymentSystemName\":{\"type\":\"object\",\"description\":\"Payment system name definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the payment system name field.\"}}},\"cardNumber\":{\"type\":\"object\",\"description\":\"Card number definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the card number field.\"},\"pattern\":{\"type\":\"string\",\"description\":\"Indicates the expected pattern for the card number field.\",\"pattern\":\"^[\\\\*]{12}[0-9]{4}$\"}}},\"bin\":{\"type\":\"object\",\"description\":\"Bin definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the bin field.\"}}},\"expirationDate\":{\"type\":\"object\",\"description\":\"Expiration date definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the expiration date field.\"}}},\"useCvvForAuthorization\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the use CVV for authorization field.\"}},\"description\":\"Indicates the expected data type for the use CVV for authorization field.\"},\"cardLabel\":{\"type\":\"object\",\"description\":\"Card label definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the card label field.\"}}},\"isCardToken\":{\"type\":\"object\",\"description\":\"`isCardToken` definition.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the `isCardToken` field.\"}}},\"availableAddresses\":{\"type\":\"object\",\"description\":\"Indicates the expected data type for the available addresses field.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the available addresses field.\"},\"items\":{\"type\":\"object\",\"description\":\"Address identifier.\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"Indicates the expected data type for the address identifier field.\"}}}}}}},\"additionalProperties\":{\"type\":\"boolean\",\"description\":\"When `true`, allows clients to send and persist custom fields beyond the defined schema. This enables storing extra fields like `phone2`, `marketingOptIn`, or any buyer-specific data.\"}}}}}}},\"additionalProperties\":{\"type\":\"boolean\",\"description\":\"When `true`, allows clients to send and persist custom fields beyond the defined schema. This enables storing extra fields like `phone2`, `marketingOptIn`, or any buyer-specific data.\"},\"requiredField\":{\"title\":\"required\",\"type\":\"array\",\"description\":\"List of required properties.\",\"items\":{\"type\":\"string\",\"description\":\"Name of a required property field.\"}},\"v-indexed\":{\"type\":\"array\",\"description\":\"List of indexed properties.\",\"items\":{\"type\":\"string\",\"description\":\"Name of an indexed property field.\"}}}}},\"required\":[\"name\",\"schema\"]}}\n\n// Validate if response matches JSON schema \npm.test(\"[GET]::/api/dataentities/shopper/schemas/v1 - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "5dbf1707-40bd-463a-ad45-c0d96f6441df",
          "name": "Create buyer",
          "request": {
            "name": "Create buyer",
            "description": {
              "content": "This endpoint creates a buyer entity document.\r\n\r\n> ℹ️ The buyer schema supports additional properties. Clients can include extra properties (e.g., `phone2`, `marketingOptIn`) in the request body, and they will be persisted alongside the standard fields.\n\n>⚠️ This feature is only available for stores using B2B Buyer Portal, which is currently available to select accounts.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/api-authentication-using-api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| Dynamic Storage | Dynamic storage generic resources | **Insert or update document (not remove)** |\r\n| Dynamic Storage | Dynamic storage generic resources | **Full access to all documents** |\r\n| Dynamic Storage | Dynamic storage generic resources | **Master Data administrator** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.To learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "dataentities",
                "shopper",
                "documents"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Schema name. The value must be `v1`.",
                    "type": "text/plain"
                  },
                  "key": "_schema",
                  "value": "v1"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"8abea412-4702-46fb-b835-3edb29d8a261\",\n  \"email\": \"john@vtex.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"document\": \"514.427.690-33\",\n  \"documentType\": \"cpf\",\n  \"phone\": \"11917118990\",\n  \"phone2\": \"11987654321\",\n  \"marketingOptIn\": true\n}",
              "options": {
                "raw": {
                  "headerFamily": "json",
                  "language": "json"
                }
              }
            },
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "66246778-5e66-410c-a51e-57671b205b2b",
              "name": "Created",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "dataentities",
                    "shopper",
                    "documents"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) Schema name. The value must be `v1`.",
                        "type": "text/plain"
                      },
                      "key": "_schema",
                      "value": "v1"
                    }
                  ],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"userId\": \"8abea412-4702-46fb-b835-3edb29d8a261\",\n  \"email\": \"john@vtex.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"document\": \"514.427.690-33\",\n  \"documentType\": \"cpf\",\n  \"phone\": \"11917118990\",\n  \"phone2\": \"11987654321\",\n  \"marketingOptIn\": true\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                }
              },
              "status": "Created",
              "code": 201,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"Id\": \"buyer-a26301e6-1a1e-11f0-b37f-e46d3d0578c6\",\n  \"Href\": \"\",\n  \"DocumentId\": \"a26301e6-1a1e-11f0-b37f-e46d3d0578c6\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6fd66bec-e587-4230-93eb-3ce711013be6",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[POST]::/api/dataentities/shopper/documents - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[POST]::/api/dataentities/shopper/documents - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[POST]::/api/dataentities/shopper/documents - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"object\",\"description\":\"Response object returned when a document is successfully created.\",\"properties\":{\"Id\":{\"type\":\"string\",\"description\":\"Unique identifier of the document, prefixed with the entity name (`buyer`).\"},\"Href\":{\"type\":\"string\",\"description\":\"URL to access the document. May be empty if not applicable.\"},\"DocumentId\":{\"type\":\"string\",\"description\":\"Same as `Id`, used internally to identify the document.\"}},\"required\":[\"Id\",\"DocumentId\"]}\n\n// Validate if response matches JSON schema \npm.test(\"[POST]::/api/dataentities/shopper/documents - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "cfcbee91-a2a7-4001-9bb0-05f5c5e69d54",
          "name": "Get buyer by ID",
          "request": {
            "name": "Get buyer by ID",
            "description": {
              "content": "This endpoint retrieves a buyer entity document by User ID.\r\n\r\n> ℹ️ The response may include additional properties beyond the standard schema if they were previously stored (e.g., `phone2`, `marketingOptIn`).\n\n>⚠️ This feature is only available for stores using B2B Buyer Portal, which is currently available to select accounts.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/api-authentication-using-api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| Dynamic Storage | Dynamic storage generic resources | **Read only documents** |\r\n| Dynamic Storage | Dynamic storage generic resources | **Insert or update document (not remove)** |\r\n| Dynamic Storage | Dynamic storage generic resources | **Full access to all documents** |\r\n| Dynamic Storage | Dynamic storage generic resources | **Master Data administrator** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.To learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "dataentities",
                "shopper",
                "documents",
                ":buyerId"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Unique identifier for the buyer created by [VTEX ID API](https://developers.vtex.com/docs/api-reference/vtex-id-api#post-/api/authenticator/storefront/users).",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "buyer-8abea412-4702-46fb-b835-3edb29d8a261",
                  "key": "buyerId"
                }
              ]
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "GET",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "bc04309a-008b-4a96-b394-15dea4181515",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "dataentities",
                    "shopper",
                    "documents",
                    ":buyerId"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"userId\": \"8abea412-4702-46fb-b835-3edb29d8a261\",\n  \"email\": \"john@vtex.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"document\": \"514.427.690-33\",\n  \"documentType\": \"cpf\",\n  \"phone\": \"11917118990\",\n  \"phone2\": \"11987654321\",\n  \"marketingOptIn\": true,\n  \"cards\": [\n    {\n      \"cardId\": \"D05881AD4F424A6C93D8536C9F7F992E\",\n      \"paymentSystem\": \"2\",\n      \"paymentSystemName\": \"Visa\",\n      \"cardNumber\": \"************3232\",\n      \"bin\": \"22343333\",\n      \"availableAddresses\": [\n        \"12345\"\n      ],\n      \"expirationDate\": \"02/2029\",\n      \"useCvvForAuthorization\": true,\n      \"isCardToken\": false\n    }\n  ]\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7e6ecdca-8ad5-49f3-9124-bf65bda28ba6",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/api/dataentities/shopper/documents/:buyerId - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[GET]::/api/dataentities/shopper/documents/:buyerId - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[GET]::/api/dataentities/shopper/documents/:buyerId - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"object\",\"description\":\"Buyer document. May include additional properties beyond the standard schema if they were previously stored.\",\"properties\":{\"userId\":{\"type\":\"string\",\"format\":\"uuid\",\"description\":\"Unique identifier for the buyer created by [VTEX ID API](https://developers.vtex.com/docs/api-reference/vtex-id-api#post-/api/authenticator/storefront/users).\"},\"email\":{\"type\":\"string\",\"description\":\"Buyer's email.\"},\"firstName\":{\"type\":\"string\",\"description\":\"Buyer's first name.\"},\"lastName\":{\"type\":\"string\",\"description\":\"Buyer's last name.\"},\"document\":{\"type\":\"string\",\"description\":\"Buyer's document number (e.g., CPF number).\"},\"documentType\":{\"type\":\"string\",\"description\":\"Type of the document provided (e.g., `cpf`).\"},\"phone\":{\"type\":\"string\",\"description\":\"Buyer's phone number.\"},\"cards\":{\"type\":\"array\",\"description\":\"List of cards associated with the buyer. This field is used by the checkout module.\",\"items\":{\"type\":\"object\",\"description\":\"Credit card information.\",\"properties\":{\"cardId\":{\"type\":\"string\",\"description\":\"Unique identifier of the saved card.\"},\"paymentSystem\":{\"type\":\"string\",\"description\":\"Code representing the payment system (e.g., `2` for Visa).\"},\"paymentSystemName\":{\"type\":\"string\",\"description\":\"Name of the payment system (e.g., `Visa`).\"},\"cardNumber\":{\"type\":\"string\",\"description\":\"Masked credit card number.\"},\"bin\":{\"type\":\"string\",\"description\":\"Bank Identification Number - the first digits of the card.\"},\"expirationDate\":{\"type\":\"string\",\"description\":\"Expiry date of the card in `MM/YYYY` format.\"},\"useCvvForAuthorization\":{\"type\":\"boolean\",\"description\":\"Indicates if CVV is required for authorization.\"},\"cardLabel\":{\"type\":\"string\",\"description\":\"Label or nickname for the card.\"},\"isCardToken\":{\"type\":\"boolean\",\"description\":\"Indicates whether the card data is tokenized.\"},\"availableAddresses\":{\"type\":\"array\",\"description\":\"Array of address IDs the card is associated with.\",\"items\":{\"type\":\"string\",\"description\":\"Address identifier.\"}}}}}}}\n\n// Validate if response matches JSON schema \npm.test(\"[GET]::/api/dataentities/shopper/documents/:buyerId - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "1e0ff734-5f48-4540-af78-b9c4054809b1",
          "name": "Update buyer",
          "request": {
            "name": "Update buyer",
            "description": {
              "content": "This request allows you to partially update a buyer document.\r\n\r\n>⚠️ This feature is only available for stores using B2B Buyer Portal, which is currently available to select accounts.\r\n\r\n>ℹ️ You can use this request to update documents for any given data entity. Because of this, you are not restricted to using the fields exemplified below in your requests. But you should be aware of the fields allowed or required for each document you wish to update.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/api-authentication-using-api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| Dynamic Storage | Dynamic storage generic resources | **Insert or update document (not remove)** |\r\n| Dynamic Storage | Dynamic storage generic resources | **Full access to all documents** |\r\n| Dynamic Storage | Dynamic storage generic resources | **Master Data administrator** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.To learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "dataentities",
                "shopper",
                "documents",
                ":buyerId"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Unique identifier for the buyer created by [VTEX ID API](https://developers.vtex.com/docs/api-reference/vtex-id-api#post-/api/authenticator/storefront/users).",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "buyer-8abea412-4702-46fb-b835-3edb29d8a261",
                  "key": "buyerId"
                }
              ]
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "PATCH",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"8abea412-4702-46fb-b835-3edb29d8a261\",\n  \"email\": \"john@vtex.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"document\": \"514.427.690-33\",\n  \"documentType\": \"cpf\",\n  \"phone\": \"11917118990\",\n  \"phone2\": \"11987654321\",\n  \"marketingOptIn\": true\n}",
              "options": {
                "raw": {
                  "headerFamily": "json",
                  "language": "json"
                }
              }
            },
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "text"
              },
              "id": "b49c38e5-103e-4f5f-be0d-086eb26e08fc",
              "name": "No Content",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "dataentities",
                    "shopper",
                    "documents",
                    ":buyerId"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "PATCH",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"userId\": \"8abea412-4702-46fb-b835-3edb29d8a261\",\n  \"email\": \"john@vtex.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"document\": \"514.427.690-33\",\n  \"documentType\": \"cpf\",\n  \"phone\": \"11917118990\",\n  \"phone2\": \"11987654321\",\n  \"marketingOptIn\": true\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                }
              },
              "status": "No Content",
              "code": 204,
              "header": [],
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "68195cad-0e69-4ead-b3da-0d1869991043",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[PATCH]::/api/dataentities/shopper/documents/:buyerId - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response has empty Body \npm.test(\"[PATCH]::/api/dataentities/shopper/documents/:buyerId - Response has empty Body\", function () {\n    pm.response.to.not.be.withBody;\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "d6a82172-6126-4d69-8588-443de9f62369",
          "name": "Delete buyer",
          "request": {
            "name": "Delete buyer",
            "description": {
              "content": "Deletes a buyer document.\r\n\r\n>⚠️ This feature is only available for stores using B2B Buyer Portal, which is currently available to select accounts.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/api-authentication-using-api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| Dynamic Storage | Dynamic storage generic resources | **Full access to all documents** |\r\n| Dynamic Storage | Dynamic storage generic resources | **Master Data administrator** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.To learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "dataentities",
                "shopper",
                "documents",
                ":buyerId"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Unique identifier for the buyer created by [VTEX ID API](https://developers.vtex.com/docs/api-reference/vtex-id-api#post-/api/authenticator/storefront/users).",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "buyer-8abea412-4702-46fb-b835-3edb29d8a261",
                  "key": "buyerId"
                }
              ]
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "text"
              },
              "id": "9138456d-9d1c-4d4e-b248-85005c63ca39",
              "name": "Accepted",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "dataentities",
                    "shopper",
                    "documents",
                    ":buyerId"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "DELETE",
                "body": {}
              },
              "status": "Accepted",
              "code": 202,
              "header": [],
              "cookie": []
            },
            {
              "_": {
                "postman_previewlanguage": "text"
              },
              "id": "6caf5d76-3549-42f0-aeb8-4f8b82d0ca61",
              "name": "No Content",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "dataentities",
                    "shopper",
                    "documents",
                    ":buyerId"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "DELETE",
                "body": {}
              },
              "status": "No Content",
              "code": 204,
              "header": [],
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fe8069eb-f05c-42ee-bb8e-218fa7c61c58",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[DELETE]::/api/dataentities/shopper/documents/:buyerId - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "334175c4-0165-4ec7-b563-75922c87ea72",
          "name": "Search buyers",
          "request": {
            "name": "Search buyers",
            "description": {
              "content": "This endpoint searches a buyer entity document by User ID.\r\n\r\n> ℹ️ The response may include additional properties beyond the standard schema if they were previously stored (e.g., `phone2`, `marketingOptIn`).\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/api-authentication-using-api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| Dynamic Storage | Dynamic storage generic resources | **Master Data administrator** |\r\n| Master Data | Application | **List Applications** |\r\n| Master Data | Application | **View logs** |\r\n| Master Data | Form | **List Forms** |\r\n| Master Data | Comment | **List Comments** |\r\n| Master Data | Customized Search | **List Custom Search** |\r\n| Master Data | Generic resources | **Read-only form access** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint. To learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "dataentities",
                "shopper",
                "search"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "disabled": true,
                  "description": {
                    "content": "Unique identifier for the buyer created by [VTEX ID API](https://developers.vtex.com/docs/api-reference/vtex-id-api#post-/api/authenticator/storefront/users). Use the `userId={{userId}}` value.",
                    "type": "text/plain"
                  },
                  "key": "_where",
                  "value": "userId=8abea412-4702-46fb-b835-3edb29d8a261"
                },
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Schema name. The value must be `v1`.",
                    "type": "text/plain"
                  },
                  "key": "_schema",
                  "value": "v1"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/vnd.vtex.create-budget+json"
              }
            ],
            "method": "GET",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "41ed3fc9-bf5f-4a79-a710-5ccd690b133a",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "dataentities",
                    "shopper",
                    "search"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [
                    {
                      "disabled": true,
                      "description": {
                        "content": "Unique identifier for the buyer created by [VTEX ID API](https://developers.vtex.com/docs/api-reference/vtex-id-api#post-/api/authenticator/storefront/users). Use the `userId={{userId}}` value.",
                        "type": "text/plain"
                      },
                      "key": "_where",
                      "value": "userId=8abea412-4702-46fb-b835-3edb29d8a261"
                    },
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) Schema name. The value must be `v1`.",
                        "type": "text/plain"
                      },
                      "key": "_schema",
                      "value": "v1"
                    }
                  ],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/vnd.vtex.create-budget+json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/vnd.vtex.create-budget+json"
                }
              ],
              "body": "[\n  {\n    \"userId\": \"8abea412-4702-46fb-b835-3edb29d8a261\",\n    \"email\": \"john@vtex.com\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"document\": \"514.427.690-33\",\n    \"documentType\": \"cpf\",\n    \"phone\": \"11917118990\",\n    \"phone2\": \"11987654321\",\n    \"marketingOptIn\": true,\n    \"cards\": [\n      {\n        \"cardId\": \"D05881AD4F424A6C93D8536C9F7F992E\",\n        \"paymentSystem\": \"2\",\n        \"paymentSystemName\": \"Visa\",\n        \"cardNumber\": \"************3232\",\n        \"bin\": \"22343333\",\n        \"availableAddresses\": [\n          \"12345\"\n        ],\n        \"expirationDate\": \"02/2029\",\n        \"useCvvForAuthorization\": true,\n        \"isCardToken\": false\n      }\n    ]\n  }\n]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a16134c2-02cd-488f-8608-1a4605f572b5",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/api/dataentities/shopper/search - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[GET]::/api/dataentities/shopper/search - Content-Type is application/vnd.vtex.create-budget+json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/vnd.vtex.create-budget+json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[GET]::/api/dataentities/shopper/search - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"array\",\"items\":{\"type\":\"object\",\"description\":\"Buyer document. May include additional properties beyond the standard schema if they were previously stored.\",\"properties\":{\"userId\":{\"type\":\"string\",\"format\":\"uuid\",\"description\":\"Unique identifier for the buyer created by [VTEX ID API](https://developers.vtex.com/docs/api-reference/vtex-id-api#post-/api/authenticator/storefront/users).\"},\"email\":{\"type\":\"string\",\"description\":\"Buyer's email.\"},\"firstName\":{\"type\":\"string\",\"description\":\"Buyer's first name.\"},\"lastName\":{\"type\":\"string\",\"description\":\"Buyer's last name.\"},\"document\":{\"type\":\"string\",\"description\":\"Buyer's document number (e.g., CPF number).\"},\"documentType\":{\"type\":\"string\",\"description\":\"Type of the document provided (e.g., `cpf`).\"},\"phone\":{\"type\":\"string\",\"description\":\"Buyer's phone number.\"},\"cards\":{\"type\":\"array\",\"description\":\"List of cards associated with the buyer. This field is used by the checkout module.\",\"items\":{\"type\":\"object\",\"description\":\"Credit card information.\",\"properties\":{\"cardId\":{\"type\":\"string\",\"description\":\"Unique identifier of the saved card.\"},\"paymentSystem\":{\"type\":\"string\",\"description\":\"Code representing the payment system (e.g., `2` for Visa).\"},\"paymentSystemName\":{\"type\":\"string\",\"description\":\"Name of the payment system (e.g., `Visa`).\"},\"cardNumber\":{\"type\":\"string\",\"description\":\"Masked credit card number.\"},\"bin\":{\"type\":\"string\",\"description\":\"Bank Identification Number - the first digits of the card.\"},\"expirationDate\":{\"type\":\"string\",\"description\":\"Expiry date of the card in `MM/YYYY` format.\"},\"useCvvForAuthorization\":{\"type\":\"boolean\",\"description\":\"Indicates if CVV is required for authorization.\"},\"cardLabel\":{\"type\":\"string\",\"description\":\"Label or nickname for the card.\"},\"isCardToken\":{\"type\":\"boolean\",\"description\":\"Indicates whether the card data is tokenized.\"},\"availableAddresses\":{\"type\":\"array\",\"description\":\"Array of address IDs the card is associated with.\",\"items\":{\"type\":\"string\",\"description\":\"Address identifier.\"}}}}}}}}\n\n// Validate if response matches JSON schema \npm.test(\"[GET]::/api/dataentities/shopper/search - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        }
      ],
      "event": []
    }
  ],
  "auth": {
    "type": "apikey",
    "apikey": [
      {
        "type": "any",
        "value": "X-VTEX-API-AppKey",
        "key": "key"
      },
      {
        "type": "any",
        "value": "{{apiKey}}",
        "key": "value"
      },
      {
        "type": "any",
        "value": "header",
        "key": "in"
      }
    ]
  },
  "event": [],
  "variable": [
    {
      "type": "any",
      "value": "apiexamples",
      "key": "accountName"
    },
    {
      "type": "any",
      "value": "vtexcommercestable",
      "key": "environment"
    },
    {
      "type": "any",
      "value": "https://{{accountName}}.{{environment}}.com.br",
      "key": "baseUrl"
    }
  ],
  "info": {
    "_postman_id": "7cf7fcfe-8a7d-40bb-8473-f61d9213c9fa",
    "name": "B2B Buyer Data API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": {
      "content": "The B2B Buyer Data API allows you to create, retrieve, update, delete, and search buyer documents stored in the `shopper` data entity.\r\n\r\n>⚠️ This feature is only available for stores using B2B Buyer Portal, which is currently available to select accounts.\r\n\r\n## Index\r\n\r\n### Buyer data\r\n\r\n- `GET` [Get buyer schema](https://developers.vtex.com/docs/api-reference/b2b-buyer-data-api#get-/api/dataentities/shopper/schemas/v1)\r\n- `POST` [Create buyer](https://developers.vtex.com/docs/api-reference/b2b-buyer-data-api#post-/api/dataentities/shopper/documents)\r\n- `GET` [Get buyer by ID](https://developers.vtex.com/docs/api-reference/b2b-buyer-data-api#get-/api/dataentities/shopper/documents/-buyerId-)\r\n- `PATCH` [Update buyer](https://developers.vtex.com/docs/api-reference/b2b-buyer-data-api#patch-/api/dataentities/shopper/documents/-buyerId-)\r\n- `DELETE` [Delete buyer](https://developers.vtex.com/docs/api-reference/b2b-buyer-data-api#delete-/api/dataentities/shopper/documents/-buyerId-)\r\n- `GET` [Search buyers](https://developers.vtex.com/docs/api-reference/b2b-buyer-data-api#get-/api/dataentities/shopper/search)\r\n",
      "type": "text/plain"
    }
  }
}