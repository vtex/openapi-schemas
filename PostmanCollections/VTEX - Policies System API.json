{
  "_": {
<<<<<<< HEAD
    "postman_id": "bc61a75d-aa22-420a-afc2-318ef057b3fd"
  },
  "item": [
    {
      "id": "1fbfa156-2c0e-44c0-aeae-054b498dc52c",
=======
    "postman_id": "00584a0c-a351-4e29-bccc-a03d0031fb44"
  },
  "item": [
    {
      "id": "aa0e8ec8-8f1a-401b-96e6-538a5f16483e",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
      "name": "Policy",
      "description": {
        "content": "",
        "type": "text/plain"
      },
      "item": [
        {
<<<<<<< HEAD
          "id": "66a6bd7e-478a-4768-962f-4dccdf3cbfc1",
=======
          "id": "cadf5059-abda-45ec-94fb-eb754e1f89bf",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
          "name": "Get Policy List",
          "request": {
            "name": "Get Policy List",
            "description": {
              "content": "Retrieves a list of all policies in the account and general information of each policy.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "policy-engine",
                "policies"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "description": {
                    "content": "Name of the VTEX account. Used as part of the URL",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{accountName}}",
                  "key": "accountName"
                },
                {
                  "description": {
                    "content": "Environment to use. Used as part of the URL.",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{environment}}",
                  "key": "environment"
                }
              ]
            },
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
<<<<<<< HEAD
              "id": "526d1a4d-86ad-423d-b30a-39d8436c30ff",
=======
              "id": "43c9d802-20ca-42c8-8849-0c723c1b6d19",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "policy-engine",
                    "policies"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "Name of the VTEX account. Used as part of the URL",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{accountName}}",
                      "key": "accountName"
                    },
                    {
                      "description": {
                        "content": "Environment to use. Used as part of the URL.",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{environment}}",
                      "key": "environment"
                    }
                  ]
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Describes the type of the content being sent",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand ",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
<<<<<<< HEAD
              "body": "[\n  {\n    \"id\": \"do amet incididunt\",\n    \"name\": \"ut ad exercitation incididunt cillum\",\n    \"description\": \"magna proident ea\",\n    \"statements\": [\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"aliquip exercitation velit\",\n          \"metadata\": {\n            \"labore_db\": false\n          }\n        },\n        \"resource\": \"nisi incididunt cillum sit\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"proident ut laboris\",\n                \"enim consequat\"\n              ],\n              \"operation\": \"minim voluptate nulla\",\n              \"key\": \"reprehenderit\",\n              \"values\": [\n                \"ipsum occaecat sint nulla\",\n                \"dolore mollit\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"fugiat nostrud do\",\n                \"dolore enim irure incididunt sit\"\n              ],\n              \"operation\": \"minim culpa\",\n              \"key\": \"cupidatat esse velit occaecat\",\n              \"values\": [\n                \"dolore culpa\",\n                \"cupidatat in cillum\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"veniam\"\n      },\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"tempor non\",\n          \"metadata\": {\n            \"ad1\": true,\n            \"sint_8cc\": false,\n            \"nisi684\": -4143730.203643739\n          }\n        },\n        \"resource\": \"nisi\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"veniam laborum dolore\",\n                \"veniam ullamco fugiat Excepteur oc\"\n              ],\n              \"operation\": \"nisi dolore\",\n              \"key\": \"velit Excepteur\",\n              \"values\": [\n                \"nostrud proident Excepteur\",\n                \"est sint fugiat dolo\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"in\",\n                \"aliquip\"\n              ],\n              \"operation\": \"aute\",\n              \"key\": \"quis deserunt labore\",\n              \"values\": [\n                \"adipisicing cillum l\",\n                \"consectetur sed ullamco anim\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"nulla dolore\"\n      }\n    ]\n  },\n  {\n    \"id\": \"consequat aliquip voluptate Excepteur\",\n    \"name\": \"in irure exercitation\",\n    \"description\": \"aliquip dolor\",\n    \"statements\": [\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"et velit Exc\",\n          \"metadata\": {\n            \"exercitation25\": -48265642,\n            \"dolore24c\": -48683577\n          }\n        },\n        \"resource\": \"consectetur elit dolor culpa\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"amet elit velit deser\",\n                \"aliqua elit aliquip\"\n              ],\n              \"operation\": \"non consectetur dolor eiusmod\",\n              \"key\": \"anim irure Lorem\",\n              \"values\": [\n                \"nulla laborum Duis velit mollit\",\n                \"Ut est aliqua\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"c\",\n                \"do et\"\n              ],\n              \"operation\": \"ex dolor\",\n              \"key\": \"Excepteur et\",\n              \"values\": [\n                \"magna\",\n                \"consequat cupidatat ipsum deserunt\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"ci\"\n      },\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"aliquip ea ipsum\",\n          \"metadata\": {\n            \"minim771\": -38760387.16646786\n          }\n        },\n        \"resource\": \"veniam adipisicing sunt\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"minim ad enim Duis\",\n                \"magna minim\"\n              ],\n              \"operation\": \"tempor labore nulla esse\",\n              \"key\": \"in\",\n              \"values\": [\n                \"ex magna labore aliqua anim\",\n                \"sit\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"veniam ipsum dolore labore exercitation\",\n                \"consectetur nulla\"\n              ],\n              \"operation\": \"dolor ut ex ea eiusmod\",\n              \"key\": \"Duis do\",\n              \"values\": [\n                \"tempor qui esse\",\n                \"dolore irure ea\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"eiusmod ex exercitation anim voluptat\"\n      }\n    ]\n  }\n]",
=======
              "body": "[\n  {\n    \"id\": \"aute Lorem et ex\",\n    \"name\": \"ad commodo cupidatat\",\n    \"description\": \"nisi eu\",\n    \"statements\": [\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"eu cill\",\n          \"metadata\": {\n            \"dolore0\": \"exercitation\",\n            \"in_f\": -87629388.26563409\n          }\n        },\n        \"resource\": \"laboris Duis et ut\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"culpa nulla voluptate cupidatat ad\",\n                \"incididunt dolor consequat consectetur\"\n              ],\n              \"operation\": \"pariatur commodo anim\",\n              \"key\": \"nulla mollit labore\",\n              \"values\": [\n                \"laboris\",\n                \"minim dolor\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"proident laborum\",\n                \"aliqua exercitation occaecat veniam\"\n              ],\n              \"operation\": \"ipsum occaecat ullamco\",\n              \"key\": \"reprehenderit irure\",\n              \"values\": [\n                \"commodo\",\n                \"magna\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"magna dolor\"\n      },\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"eiusmod ipsum cupidatat anim\",\n          \"metadata\": {\n            \"in_\": 22359715,\n            \"Lorem14\": -62331278.038132966\n          }\n        },\n        \"resource\": \"sint mollit\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"ut elit aute\",\n                \"ipsum labore officia in\"\n              ],\n              \"operation\": \"id\",\n              \"key\": \"laboris magna\",\n              \"values\": [\n                \"irure\",\n                \"aliquip exercitation\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"incididunt in\",\n                \"pariatur ullam\"\n              ],\n              \"operation\": \"non \",\n              \"key\": \"reprehen\",\n              \"values\": [\n                \"ipsu\",\n                \"cillum aute\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"ad fugiat\"\n      }\n    ]\n  },\n  {\n    \"id\": \"qui cupidatat amet ea \",\n    \"name\": \"culpa nisi ullamco\",\n    \"description\": \"culpa elit commodo\",\n    \"statements\": [\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"sunt amet consequat sit enim\",\n          \"metadata\": {\n            \"voluptate_14d\": -27931319.812376603\n          }\n        },\n        \"resource\": \"in adipisicing\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"reprehenderit\",\n                \"eiusmod ex est\"\n              ],\n              \"operation\": \"sit ea mollit\",\n              \"key\": \"in\",\n              \"values\": [\n                \"in velit est\",\n                \"nostru\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"voluptate\",\n                \"occaecat eu Ut ut\"\n              ],\n              \"operation\": \"Duis ea veniam do\",\n              \"key\": \"culpa ea in\",\n              \"values\": [\n                \"proident voluptate dolor amet\",\n                \"ipsum ea anim\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"sit\"\n      },\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"in ut deserunt dolor\",\n          \"metadata\": {\n            \"incididunt_04\": \"in in minim\",\n            \"aute_\": -39083178.70946938\n          }\n        },\n        \"resource\": \"in sunt\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"dolor minim Duis\",\n                \"do ut\"\n              ],\n              \"operation\": \"in laboris consequat\",\n              \"key\": \"in exercitation\",\n              \"values\": [\n                \"dolore sint velit\",\n                \"amet Excepteur\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"in labore do occaecat\",\n                \"in fugiat\"\n              ],\n              \"operation\": \"culpa occaecat deserunt\",\n              \"key\": \"p\",\n              \"values\": [\n                \"pariatur cillum enim adipisicing\",\n                \"eiusmod Lorem\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"nulla aliqua\"\n      }\n    ]\n  }\n]",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
<<<<<<< HEAD
                "id": "00002346-b194-40f0-a225-f34ad5f53216",
=======
                "id": "d2f4a5d2-65d1-45c5-93fe-5065a9eb7e51",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/api/policy-engine/policies - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[GET]::/api/policy-engine/policies - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[GET]::/api/policy-engine/policies - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"array\",\"items\":{\"title\":\"PolicyGetResponse\",\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\",\"title\":\"id\",\"description\":\"Policy ID\"},\"name\":{\"type\":\"string\",\"description\":\"Policy Name\",\"title\":\"name\"},\"description\":{\"type\":\"string\",\"description\":\"Policy description. This description is only for internal use of identification\",\"title\":\"description\"},\"statements\":{\"type\":\"array\",\"title\":\"statements\",\"items\":{\"type\":\"object\",\"required\":[\"effect\"],\"properties\":{\"effect\":{\"type\":\"string\",\"title\":\"effect\",\"description\":\"This field is not functional at the moment. To create a correct request, fill the field with `Allow`\",\"default\":\"Allow\"},\"actions\":{\"type\":\"object\",\"title\":\"actions\",\"properties\":{\"id\":{\"type\":\"string\",\"title\":\"id\",\"description\":\"Action ID. The possible values can be `SendSlackMessage`, `SendEmail`, and `DeactivatePromotions`\"},\"metadata\":{\"type\":\"object\",\"title\":\"metadata\",\"description\":\"Data inside of the actions\",\"additionalProperties\":true}},\"description\":\"Actions that the Policy will execute\"},\"resource\":{\"type\":\"string\",\"description\":\"Scope on which this policy must be evaluated\",\"title\":\"resource\"},\"condition\":{\"type\":\"object\",\"properties\":{\"conditions\":{\"type\":\"array\",\"description\":\"List of conditions that will activate the policy\",\"items\":{\"properties\":{\"conditions\":{\"title\":\"conditions\",\"type\":\"array\",\"description\":\"These are the conditions the actions can have. The possible values are `[]`, `stringEquals`, and `numericGreaterThan`\",\"items\":{\"type\":\"string\"}},\"operation\":{\"type\":\"string\",\"title\":\"operation\",\"description\":\"The action of the condition. This operation possible values are `None`, `stringEquals`, `stringEqualsIgnoreCase`, `numericEquals`, `numericLessThan`, `numericLessThanEquals`,   `numericGreaterThan`, `numericGreaterThanEquals`, `bool`, `not`, `or`, `and`, `dateTimeUtcGreaterThan`, `dateTimeUtcLessThan`, and `between`\"},\"key\":{\"type\":\"string\",\"title\":\"key\",\"description\":\"The element that will define what the policy will influence. This field has the possible values `skuId`, `brandId`, `discountPercentage`\"},\"values\":{\"type\":\"array\",\"title\":\"values\",\"items\":{\"type\":\"string\"},\"description\":\"Value of the key\"}},\"type\":\"object\"}}},\"description\":\"Condition to activate this policy. This object can have a maximum of ten recursive conditions\",\"title\":\"condition\"},\"operation\":{\"type\":\"string\",\"title\":\"operation\",\"description\":\"This operation will determine if all the conditions need to be valid or at least one of them, if the conditions array is not empty.  The possible values to these fields are `None`, `stringEquals`, `stringEqualsIgnoreCase`, `numericEquals`, `numericLessThan`, `numericLessThanEquals`,   `numericGreaterThan`, `numericGreaterThanEquals`, `bool`, `not`, `or`, `and`, `dateTimeUtcGreaterThan`, `dateTimeUtcLessThan`, and `between`\"}}},\"description\":\"Requirements to the Policy be applied\"}}},\"example\":[{\"id\":\"pa_test_001\",\"name\":\"TestAlarmBerenice\",\"description\":\"TesteMarcosPromotionsAlert\",\"statements\":[{\"effect\":\"Allow\",\"actions\":[{\"id\":\"SendSlackMessage\",\"metadata\":{\"channel\":\"C01NJFF35R6\",\"relatedUsers\":[\"URUNDC2NB\"],\"alertDescription\":\"Avoid selling products from Berenice with a discount greater than 70%.\"}}],\"resource\":\"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\",\"condition\":{\"conditions\":[{\"conditions\":[],\"operation\":\"stringEquals\",\"key\":\"brandId\",\"values\":[\"2000001\"]},{\"conditions\":[],\"operation\":\"numericGreaterThan\",\"key\":\"discountPercentage\",\"values\":[\"70.00\"]}],\"operation\":\"and\"}}]}]}\n\n// Validate if response matches JSON schema \npm.test(\"[GET]::/api/policy-engine/policies - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
<<<<<<< HEAD
          "id": "2286ace0-4742-4003-b912-c6ba711e72a0",
=======
          "id": "8319b8d8-fc94-494c-9b16-441f554219d3",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
          "name": "Evaluate Policies",
          "request": {
            "name": "Evaluate Policies",
            "description": {
              "content": "This endpoint consults all policies and checks the ones that satisfy the request bodyâ€™s conditions.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "policy-engine",
                "evaluate"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "description": {
                    "content": "Name of the VTEX account. Used as part of the URL",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{accountName}}",
                  "key": "accountName"
                },
                {
                  "description": {
                    "content": "Environment to use. Used as part of the URL.",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{environment}}",
                  "key": "environment"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"resource\": \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\",\n  \"context\": {\n    \"brandId\": \"2000001\",\n    \"discountPercentage\": \"91.00\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
<<<<<<< HEAD
              "id": "d6636831-0374-4800-a94c-7f72279fc853",
=======
              "id": "7f1bf119-7ae0-4574-98ee-361d85953710",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "policy-engine",
                    "evaluate"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "description": {
                        "content": "Name of the VTEX account. Used as part of the URL",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{accountName}}",
                      "key": "accountName"
                    },
                    {
                      "description": {
                        "content": "Environment to use. Used as part of the URL.",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{environment}}",
                      "key": "environment"
                    }
                  ]
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Describes the type of the content being sent",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand ",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"resource\": \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\",\n  \"context\": {\n    \"brandId\": \"2000001\",\n    \"discountPercentage\": \"91.00\"\n  }\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "[\n  {\n    \"metadata\": {\n      \"channel\": \"C01NJFF35R6\",\n      \"relatedUsers\": [\n        \"URUNDC2NB\"\n      ],\n      \"alertDescription\": \"Avoid selling products from Berenice with a discount greater than 70%.\"\n    }\n  }\n]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
<<<<<<< HEAD
                "id": "cfea3f97-3336-4374-9f0e-0b8e3b98cd8d",
=======
                "id": "ffbf95a4-880f-4b9d-bac9-4dd01bc28c94",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[POST]::/api/policy-engine/evaluate - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[POST]::/api/policy-engine/evaluate - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[POST]::/api/policy-engine/evaluate - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"array\",\"items\":{\"title\":\"PolicyActionGetResponse\",\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\",\"description\":\"Action ID\",\"title\":\"id\"},\"metadata\":{\"type\":\"object\",\"description\":\"Metadata object from the current action\",\"title\":\"metadata\",\"additionalProperties\":true}}},\"example\":[{\"id\":\"SendSlackMessage\",\"metadata\":{\"channel\":\"C01NJFF35R6\",\"relatedUsers\":[\"URUNDC2NB\"],\"alertDescription\":\"Avoid selling products from Berenice with a discount greater than 70%.\"}}]}\n\n// Validate if response matches JSON schema \npm.test(\"[POST]::/api/policy-engine/evaluate - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
<<<<<<< HEAD
          "id": "cb60783a-2a59-4d98-9bf9-1d1dbacefef0",
=======
          "id": "2f82267e-b9e4-43dc-a451-b51a99622d3f",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
          "name": "Get Policy by ID",
          "request": {
            "name": "Get Policy by ID",
            "description": {
              "content": "Retrieves general information of a policy by its ID.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "policy-engine",
                "policies",
                ":id"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Policy ID",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "pa_test_001",
                  "key": "id"
                },
                {
                  "description": {
                    "content": "Name of the VTEX account. Used as part of the URL",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{accountName}}",
                  "key": "accountName"
                },
                {
                  "description": {
                    "content": "Environment to use. Used as part of the URL.",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{environment}}",
                  "key": "environment"
                }
              ]
            },
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "GET"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
<<<<<<< HEAD
              "id": "6d6d4065-c52f-422a-bf51-7093f716c8e4",
=======
              "id": "3f247dab-08d2-45a0-b95a-be4cf084c95c",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "policy-engine",
                    "policies",
                    ":id"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) Policy ID",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "pa_test_001",
                      "key": "id"
                    },
                    {
                      "description": {
                        "content": "Name of the VTEX account. Used as part of the URL",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{accountName}}",
                      "key": "accountName"
                    },
                    {
                      "description": {
                        "content": "Environment to use. Used as part of the URL.",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{environment}}",
                      "key": "environment"
                    }
                  ]
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Describes the type of the content being sent",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand ",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
<<<<<<< HEAD
              "body": "[\n  {\n    \"id\": \"aut\",\n    \"name\": \"qui quis laborum\",\n    \"description\": \"aliquip ut sit\",\n    \"statements\": [\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"est dolor et commodo\",\n          \"metadata\": {\n            \"tempor_616\": 25292885.69631003,\n            \"do2\": false,\n            \"dolorcf\": \"dolore ut\"\n          }\n        },\n        \"resource\": \"commodo aliqua fugiat\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"aliqua sunt pariatur\",\n                \"dolor sit\"\n              ],\n              \"operation\": \"exercitation eu id ea\",\n              \"key\": \"consequat nulla eu\",\n              \"values\": [\n                \"quis reprehenderit nisi et\",\n                \"veniam no\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"do qui quis\",\n                \"do ipsum\"\n              ],\n              \"operation\": \"adipisicing dolor\",\n              \"key\": \"ipsum aute\",\n              \"values\": [\n                \"amet sunt aute\",\n                \"aliq\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"aute non\"\n      },\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"tempor velit est\",\n          \"metadata\": {\n            \"ut7\": 91544796.83334693\n          }\n        },\n        \"resource\": \"minim ipsum dolor\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"enim occaecat\",\n                \"pariatur ea adipisicing ipsum\"\n              ],\n              \"operation\": \"adipisicing reprehenderit in\",\n              \"key\": \"minim nostrud velit\",\n              \"values\": [\n                \"sunt nisi lab\",\n                \"cillum quis Lorem minim\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"anim deserunt voluptate culpa aliquip\",\n                \"laborum veniam\"\n              ],\n              \"operation\": \"laboris sed sint eiusmod\",\n              \"key\": \"ut dolor minim\",\n              \"values\": [\n                \"dolor\",\n                \"labore veniam esse dolore elit\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"ea tempor Lorem velit laborum\"\n      }\n    ]\n  },\n  {\n    \"id\": \"aliquip a\",\n    \"name\": \"sit\",\n    \"description\": \"commodo irure\",\n    \"statements\": [\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"velit sunt esse cupidatat\",\n          \"metadata\": {\n            \"velit_a9\": false,\n            \"Excepteur_0\": \"ipsum a\",\n            \"temporfcd\": true,\n            \"non9\": \"officia fugiat consequat es\"\n          }\n        },\n        \"resource\": \"sunt culpa ut in\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"ut\",\n                \"Lorem iru\"\n              ],\n              \"operation\": \"sed consequat dolore\",\n              \"key\": \"ea velit et\",\n              \"values\": [\n                \"ex consequat deserunt laboris\",\n                \"occaecat aliquip amet\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"aute sint aliquip anim\",\n                \"consectetur dolor\"\n              ],\n              \"operation\": \"et adipisicing dolore consectetur dolore\",\n              \"key\": \"proident\",\n              \"values\": [\n                \"occaecat sunt\",\n                \"anim\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"dolore non ipsum\"\n      },\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"pariatur\",\n          \"metadata\": {\n            \"in9\": 30337544,\n            \"culpa_f15\": \"irure ullamco Lorem\"\n          }\n        },\n        \"resource\": \"voluptate exercitation anim\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"consequat\",\n                \"Lorem proident ut do\"\n              ],\n              \"operation\": \"irure\",\n              \"key\": \"fugiat irure reprehenderit Ut\",\n              \"values\": [\n                \"proident laborum ad magna\",\n                \"ut dolor aute fugiat adipisicing\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"proident voluptate ad pariatur\",\n                \"elit\"\n              ],\n              \"operation\": \"laboris officia in occaecat Ut\",\n              \"key\": \"ipsum voluptate consectetur\",\n              \"values\": [\n                \"nulla\",\n                \"eiusmod esse\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"consequa\"\n      }\n    ]\n  }\n]",
=======
              "body": "[\n  {\n    \"id\": \"dolor est dolore voluptate\",\n    \"name\": \"officia ut reprehenderit\",\n    \"description\": \"incididunt\",\n    \"statements\": [\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"proident minim pariatur\",\n          \"metadata\": {\n            \"ipsum_1\": 76864667\n          }\n        },\n        \"resource\": \"veniam dolore ex\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"incididunt irure Duis\",\n                \"amet cillum\"\n              ],\n              \"operation\": \"L\",\n              \"key\": \"magna amet\",\n              \"values\": [\n                \"reprehenderit nostrud nisi dolore Excepteu\",\n                \"quis ut pariatur anim\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"velit tempor officia\",\n                \"laborum ut tempor\"\n              ],\n              \"operation\": \"sint culpa Lorem aliquip\",\n              \"key\": \"do lab\",\n              \"values\": [\n                \"enim incididunt amet ipsum\",\n                \"aliquip velit qui ex\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"ad Duis\"\n      },\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"fugiat eu Ut reprehenderit adipisicing\",\n          \"metadata\": {\n            \"non_9\": \"Lorem mollit dolore labore\"\n          }\n        },\n        \"resource\": \"voluptate laborum\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"et aute id\",\n                \"dolor deserunt\"\n              ],\n              \"operation\": \"aute elit aliquip\",\n              \"key\": \"dolore velit eu\",\n              \"values\": [\n                \"est do\",\n                \"sit qui\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"sit mollit \",\n                \"elit irure\"\n              ],\n              \"operation\": \"dolor nisi tempor\",\n              \"key\": \"velit in ut occaecat proident\",\n              \"values\": [\n                \"laboris Lorem exercitation deserunt anim\",\n                \"dolore aliquip\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"laborum ullamco Duis pariatur\"\n      }\n    ]\n  },\n  {\n    \"id\": \"velit\",\n    \"name\": \"consectetur dolore mollit\",\n    \"description\": \"ut adipisic\",\n    \"statements\": [\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"mollit aute ullamco aliquip velit\",\n          \"metadata\": {\n            \"Duis93\": 82647223.60098341,\n            \"in421\": false\n          }\n        },\n        \"resource\": \"sint officia pariatur ut elit\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"commodo ea dolore\",\n                \"sit id pariatur elit ci\"\n              ],\n              \"operation\": \"elit cillum ex reprehenderit deserunt\",\n              \"key\": \"cupidatat in\",\n              \"values\": [\n                \"voluptate sint eu mollit proident\",\n                \"deserunt ut aliqua quis\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"quis qui\",\n                \"qui c\"\n              ],\n              \"operation\": \"ad\",\n              \"key\": \"eiusmod esse mollit irure\",\n              \"values\": [\n                \"ad mollit\",\n                \"reprehenderit Duis labore sint\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"elit aliqua\"\n      },\n      {\n        \"effect\": \"Allow\",\n        \"actions\": {\n          \"id\": \"dolore dolore\",\n          \"metadata\": {\n            \"reprehenderit7\": 57301124\n          }\n        },\n        \"resource\": \"Duis sit sint laboris fugiat\",\n        \"condition\": {\n          \"conditions\": [\n            {\n              \"conditions\": [\n                \"aliquip consequat sint\",\n                \"do\"\n              ],\n              \"operation\": \"aute dolor anim\",\n              \"key\": \"pariatur cupidatat\",\n              \"values\": [\n                \"amet Lorem ea laboris magna\",\n                \"proident cu\"\n              ]\n            },\n            {\n              \"conditions\": [\n                \"nostrud ut non\",\n                \"laboris dolore pariatur dolor in\"\n              ],\n              \"operation\": \"Excepte\",\n              \"key\": \"laboris minim dolor\",\n              \"values\": [\n                \"anim Excepteur in Duis\",\n                \"adipisicing pariatur ut et\"\n              ]\n            }\n          ]\n        },\n        \"operation\": \"mollit qui amet do\"\n      }\n    ]\n  }\n]",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
<<<<<<< HEAD
                "id": "2aaf966e-86a3-4cb0-b67c-607352c3b818",
=======
                "id": "18612ce9-b5a6-4b31-912b-a1d168fd54e9",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/api/policy-engine/policies/:id - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[GET]::/api/policy-engine/policies/:id - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[GET]::/api/policy-engine/policies/:id - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"array\",\"items\":{\"title\":\"PolicyGetResponse\",\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\",\"title\":\"id\",\"description\":\"Policy ID\"},\"name\":{\"type\":\"string\",\"description\":\"Policy Name\",\"title\":\"name\"},\"description\":{\"type\":\"string\",\"description\":\"Policy description. This description is only for internal use of identification\",\"title\":\"description\"},\"statements\":{\"type\":\"array\",\"title\":\"statements\",\"items\":{\"type\":\"object\",\"required\":[\"effect\"],\"properties\":{\"effect\":{\"type\":\"string\",\"title\":\"effect\",\"description\":\"This field is not functional at the moment. To create a correct request, fill the field with `Allow`\",\"default\":\"Allow\"},\"actions\":{\"type\":\"object\",\"title\":\"actions\",\"properties\":{\"id\":{\"type\":\"string\",\"title\":\"id\",\"description\":\"Action ID. The possible values can be `SendSlackMessage`, `SendEmail`, and `DeactivatePromotions`\"},\"metadata\":{\"type\":\"object\",\"title\":\"metadata\",\"description\":\"Data inside of the actions\",\"additionalProperties\":true}},\"description\":\"Actions that the Policy will execute\"},\"resource\":{\"type\":\"string\",\"description\":\"Scope on which this policy must be evaluated\",\"title\":\"resource\"},\"condition\":{\"type\":\"object\",\"properties\":{\"conditions\":{\"type\":\"array\",\"description\":\"List of conditions that will activate the policy\",\"items\":{\"properties\":{\"conditions\":{\"title\":\"conditions\",\"type\":\"array\",\"description\":\"These are the conditions the actions can have. The possible values are `[]`, `stringEquals`, and `numericGreaterThan`\",\"items\":{\"type\":\"string\"}},\"operation\":{\"type\":\"string\",\"title\":\"operation\",\"description\":\"The action of the condition. This operation possible values are `None`, `stringEquals`, `stringEqualsIgnoreCase`, `numericEquals`, `numericLessThan`, `numericLessThanEquals`,   `numericGreaterThan`, `numericGreaterThanEquals`, `bool`, `not`, `or`, `and`, `dateTimeUtcGreaterThan`, `dateTimeUtcLessThan`, and `between`\"},\"key\":{\"type\":\"string\",\"title\":\"key\",\"description\":\"The element that will define what the policy will influence. This field has the possible values `skuId`, `brandId`, `discountPercentage`\"},\"values\":{\"type\":\"array\",\"title\":\"values\",\"items\":{\"type\":\"string\"},\"description\":\"Value of the key\"}},\"type\":\"object\"}}},\"description\":\"Condition to activate this policy. This object can have a maximum of ten recursive conditions\",\"title\":\"condition\"},\"operation\":{\"type\":\"string\",\"title\":\"operation\",\"description\":\"This operation will determine if all the conditions need to be valid or at least one of them, if the conditions array is not empty.  The possible values to these fields are `None`, `stringEquals`, `stringEqualsIgnoreCase`, `numericEquals`, `numericLessThan`, `numericLessThanEquals`,   `numericGreaterThan`, `numericGreaterThanEquals`, `bool`, `not`, `or`, `and`, `dateTimeUtcGreaterThan`, `dateTimeUtcLessThan`, and `between`\"}}},\"description\":\"Requirements to the Policy be applied\"}}},\"example\":[{\"id\":\"pa_test_001\",\"name\":\"TestAlarmBerenice\",\"description\":\"TesteMarcosPromotionsAlert\",\"statements\":[{\"effect\":\"Allow\",\"actions\":[{\"id\":\"SendSlackMessage\",\"metadata\":{\"channel\":\"C01NJFF35R6\",\"relatedUsers\":[\"URUNDC2NB\"],\"alertDescription\":\"Avoid selling products from Berenice with a discount greater than 70%.\"}}],\"resource\":\"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\",\"condition\":{\"conditions\":[{\"conditions\":[],\"operation\":\"stringEquals\",\"key\":\"brandId\",\"values\":[\"2000001\"]},{\"conditions\":[],\"operation\":\"numericGreaterThan\",\"key\":\"discountPercentage\",\"values\":[\"70.00\"]}],\"operation\":\"and\"}}]}]}\n\n// Validate if response matches JSON schema \npm.test(\"[GET]::/api/policy-engine/policies/:id - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
<<<<<<< HEAD
          "id": "dae8004e-3acc-426b-951c-53dd565c880e",
=======
          "id": "b33abec1-1be8-4231-90fa-5363b58c5b5f",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
          "name": "Create Policy",
          "request": {
            "name": "Create Policy",
            "description": {
              "content": "Creates a new policy from scratch.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "policy-engine",
                "policies",
                ":id"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Policy ID",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "pa_test_001",
                  "key": "id"
                },
                {
                  "description": {
                    "content": "Name of the VTEX account. Used as part of the URL",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{accountName}}",
                  "key": "accountName"
                },
                {
                  "description": {
                    "content": "Environment to use. Used as part of the URL.",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{environment}}",
                  "key": "environment"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/octet-stream"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"TestAlarmBerenice\",\n  \"description\": \"TesteMarcosPromotionsAlert\",\n  \"statements\": [\n    {\n      \"effect\": \"Allow\",\n      \"actions\": [\n        {\n          \"id\": \"SendSlackMessage\",\n          \"metadata\": {\n            \"channel\": \"C01NJFF35R6\",\n            \"relatedUsers\": [\n              \"URUNDC2NB\"\n            ],\n            \"alertDescription\": \"Avoid selling products from Berenice with a discount greater than 40%.\"\n          }\n        }\n      ],\n      \"resource\": \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\",\n      \"condition\": {\n        \"conditions\": [\n          {\n            \"conditions\": [],\n            \"operation\": \"stringEquals\",\n            \"key\": \"brandId\",\n            \"values\": [\n              \"2000001\"\n            ]\n          },\n          {\n            \"conditions\": [],\n            \"operation\": \"numericGreaterThan\",\n            \"key\": \"discountPercentage\",\n            \"values\": [\n              \"40.00\"\n            ]\n          }\n        ],\n        \"operation\": \"and\"\n      }\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "text"
              },
<<<<<<< HEAD
              "id": "6d1871f2-ae28-40a2-b3c0-723466572b3d",
=======
              "id": "ee848030-3f61-4e72-81ba-2fdbe31d9dd8",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "policy-engine",
                    "policies",
                    ":id"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) Policy ID",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "pa_test_001",
                      "key": "id"
                    },
                    {
                      "description": {
                        "content": "Name of the VTEX account. Used as part of the URL",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{accountName}}",
                      "key": "accountName"
                    },
                    {
                      "description": {
                        "content": "Environment to use. Used as part of the URL.",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{environment}}",
                      "key": "environment"
                    }
                  ]
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Describes the type of the content being sent",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand ",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/octet-stream"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"TestAlarmBerenice\",\n  \"description\": \"TesteMarcosPromotionsAlert\",\n  \"statements\": [\n    {\n      \"effect\": \"Allow\",\n      \"actions\": [\n        {\n          \"id\": \"SendSlackMessage\",\n          \"metadata\": {\n            \"channel\": \"C01NJFF35R6\",\n            \"relatedUsers\": [\n              \"URUNDC2NB\"\n            ],\n            \"alertDescription\": \"Avoid selling products from Berenice with a discount greater than 40%.\"\n          }\n        }\n      ],\n      \"resource\": \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\",\n      \"condition\": {\n        \"conditions\": [\n          {\n            \"conditions\": [],\n            \"operation\": \"stringEquals\",\n            \"key\": \"brandId\",\n            \"values\": [\n              \"2000001\"\n            ]\n          },\n          {\n            \"conditions\": [],\n            \"operation\": \"numericGreaterThan\",\n            \"key\": \"discountPercentage\",\n            \"values\": [\n              \"40.00\"\n            ]\n          }\n        ],\n        \"operation\": \"and\"\n      }\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/octet-stream"
                }
              ],
              "body": "",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
<<<<<<< HEAD
                "id": "812d2283-a928-4371-85fc-0170a10435df",
=======
                "id": "888539b7-51cd-4815-a517-75a3fd34e415",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[POST]::/api/policy-engine/policies/:id - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[POST]::/api/policy-engine/policies/:id - Content-Type is application/octet-stream\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/octet-stream\");\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
<<<<<<< HEAD
          "id": "b223e9b6-9d2a-4a93-947b-9912cc51324d",
=======
          "id": "e6a3d07d-df99-43ce-9a75-adb4a9b1fc83",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
          "name": "Update Policy",
          "request": {
            "name": "Update Policy",
            "description": {
              "content": "Updates an existing policy at your account.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "policy-engine",
                "policies",
                ":id"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Policy ID",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "pa_test_001",
                  "key": "id"
                },
                {
                  "description": {
                    "content": "Name of the VTEX account. Used as part of the URL",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{accountName}}",
                  "key": "accountName"
                },
                {
                  "description": {
                    "content": "Environment to use. Used as part of the URL.",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{environment}}",
                  "key": "environment"
                }
              ]
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/octet-stream"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
<<<<<<< HEAD
              "raw": "{\n  \"name\": \"adipisicing commodo\",\n  \"description\": \"cupid\",\n  \"statements\": [\n    {\n      \"effect\": \"Allow\",\n      \"actions\": {\n        \"id\": \"amet laboris\",\n        \"metadata\": {\n          \"labore_66\": -35449800.23530022,\n          \"dolor_03_\": 11079927,\n          \"inb6c\": -38678213\n        }\n      },\n      \"resource\": \"occaecat minim\",\n      \"condition\": {\n        \"conditions\": [\n          {\n            \"conditions\": [\n              \"q\",\n              \"veniam enim dolor fugiat dolor\"\n            ],\n            \"operation\": \"velit adipisicing quis\",\n            \"key\": \"commodo\",\n            \"values\": [\n              \"aute dolore dolor magna elit\",\n              \"e\"\n            ]\n          },\n          {\n            \"conditions\": [\n              \"irure proident pariatur enim\",\n              \"mollit dolore consequat\"\n            ],\n            \"operation\": \"quis sint\",\n            \"key\": \"reprehenderit dolor incididunt in\",\n            \"values\": [\n              \"aliqu\",\n              \"exerc\"\n            ]\n          }\n        ]\n      },\n      \"operation\": \"sit fugiat et est mo\"\n    },\n    {\n      \"effect\": \"Allow\",\n      \"actions\": {\n        \"id\": \"ipsum dolor Lorem ex\",\n        \"metadata\": {\n          \"dolore1a\": false,\n          \"voluptate_4ae\": 28356997.028391898,\n          \"utb5\": -22817321.50354898,\n          \"reprehenderit06\": -22176007.582866177,\n          \"veniamc7\": \"Ut eiusmod velit deserunt\"\n        }\n      },\n      \"resource\": \"dolor dolor ad Lorem\",\n      \"condition\": {\n        \"conditions\": [\n          {\n            \"conditions\": [\n              \"adipisicing sunt elit nostrud\",\n              \"pariatur\"\n            ],\n            \"operation\": \"velit\",\n            \"key\": \"ut id tempor\",\n            \"values\": [\n              \"ut sint reprehenderit voluptate\",\n              \"dolor\"\n            ]\n          },\n          {\n            \"conditions\": [\n              \"dolore est sed\",\n              \"\"\n            ],\n            \"operation\": \"consectetur enim sit\",\n            \"key\": \"sint Duis\",\n            \"values\": [\n              \"elit officia\",\n              \"eu dolore deserunt\"\n            ]\n          }\n        ]\n      },\n      \"operation\": \"occaecat in\"\n    }\n  ]\n}",
=======
              "raw": "{\n  \"name\": \"veniam dolore laboris do eiusmod\",\n  \"description\": \"enim Ut Lorem\",\n  \"statements\": [\n    {\n      \"effect\": \"Allow\",\n      \"actions\": {\n        \"id\": \"veniam\",\n        \"metadata\": {\n          \"anim_eef\": false,\n          \"laborum_10\": 74881830,\n          \"elitcf7\": false\n        }\n      },\n      \"resource\": \"tempor fugiat\",\n      \"condition\": {\n        \"conditions\": [\n          {\n            \"conditions\": [\n              \"nisi ipsum\",\n              \"deserunt fugiat\"\n            ],\n            \"operation\": \"\",\n            \"key\": \"sit nulla elit\",\n            \"values\": [\n              \"ex id nulla in\",\n              \"aute eu ex\"\n            ]\n          },\n          {\n            \"conditions\": [\n              \"labore sed do\",\n              \"dolore sunt aliqua\"\n            ],\n            \"operation\": \"culpa sit aliquip\",\n            \"key\": \"reprehenderit elit ipsum deserunt\",\n            \"values\": [\n              \"magna\",\n              \"elit cupida\"\n            ]\n          }\n        ]\n      },\n      \"operation\": \"et est\"\n    },\n    {\n      \"effect\": \"Allow\",\n      \"actions\": {\n        \"id\": \"dolor incididunt dolor\",\n        \"metadata\": {\n          \"id_49e\": 28592303\n        }\n      },\n      \"resource\": \"adipisicing commodo nisi sed reprehenderit\",\n      \"condition\": {\n        \"conditions\": [\n          {\n            \"conditions\": [\n              \"amet nostrud eu eiusmod magna\",\n              \"quis ut veniam ullamco\"\n            ],\n            \"operation\": \"aute eu\",\n            \"key\": \"aute velit\",\n            \"values\": [\n              \"velit cupidatat\",\n              \"in Ut irure dolore\"\n            ]\n          },\n          {\n            \"conditions\": [\n              \"sunt magna quis aliqua\",\n              \"ipsum velit\"\n            ],\n            \"operation\": \"dolore ut ipsum Excepteur\",\n            \"key\": \"deserunt voluptate\",\n            \"values\": [\n              \"ut laboris ipsum magna consectetur\",\n              \"tempor exercitation\"\n            ]\n          }\n        ]\n      },\n      \"operation\": \"sit consequat aliquip\"\n    }\n  ]\n}",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "text"
              },
<<<<<<< HEAD
              "id": "6da40dd4-6c7e-4394-9b48-4e6d730a6453",
=======
              "id": "d4953354-b84e-4a81-9d0e-a1caf03d5507",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "policy-engine",
                    "policies",
                    ":id"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) Policy ID",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "pa_test_001",
                      "key": "id"
                    },
                    {
                      "description": {
                        "content": "Name of the VTEX account. Used as part of the URL",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{accountName}}",
                      "key": "accountName"
                    },
                    {
                      "description": {
                        "content": "Environment to use. Used as part of the URL.",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{environment}}",
                      "key": "environment"
                    }
                  ]
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Describes the type of the content being sent",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand ",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/octet-stream"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
<<<<<<< HEAD
                  "raw": "{\n  \"name\": \"nostrud et anim est\",\n  \"description\": \"consectetur incididunt\",\n  \"statements\": [\n    {\n      \"effect\": \"Allow\",\n      \"actions\": {\n        \"id\": \"ad laboris enim laborum\",\n        \"metadata\": {\n          \"eiusmod22e\": -15983303,\n          \"nostrud_185\": 49534205,\n          \"estc\": false\n        }\n      },\n      \"resource\": \"dolore voluptate dolor consequat\",\n      \"condition\": {\n        \"conditions\": [\n          {\n            \"conditions\": [\n              \"culpa eu dolore proident\",\n              \"et cupidatat\"\n            ],\n            \"operation\": \"dolor culpa\",\n            \"key\": \"eiusmod aliqua\",\n            \"values\": [\n              \"id veniam incididunt\",\n              \"nulla\"\n            ]\n          },\n          {\n            \"conditions\": [\n              \"in\",\n              \"dolor ipsum adipisicing\"\n            ],\n            \"operation\": \"et a\",\n            \"key\": \"mollit est incididunt in id\",\n            \"values\": [\n              \"mollit sed ullamco\",\n              \"Ut fugiat incididunt deserunt nostrud\"\n            ]\n          }\n        ]\n      },\n      \"operation\": \"Duis do\"\n    },\n    {\n      \"effect\": \"Allow\",\n      \"actions\": {\n        \"id\": \"consequat consectetur anim irure\",\n        \"metadata\": {\n          \"laborum708\": 36480303.25515959\n        }\n      },\n      \"resource\": \"ex laboris\",\n      \"condition\": {\n        \"conditions\": [\n          {\n            \"conditions\": [\n              \"nisi Duis cillum pariatur\",\n              \"adipisicing Duis elit dolor\"\n            ],\n            \"operation\": \"velit dolor\",\n            \"key\": \"in aute\",\n            \"values\": [\n              \"dolore voluptate esse enim\",\n              \"et aute est\"\n            ]\n          },\n          {\n            \"conditions\": [\n              \"irure in\",\n              \"ex \"\n            ],\n            \"operation\": \"do fugiat Lorem mollit\",\n            \"key\": \"ipsum \",\n            \"values\": [\n              \"anim elit\",\n              \"irure Ut adipisicing cillum\"\n            ]\n          }\n        ]\n      },\n      \"operation\": \"ut ea tempor laborum\"\n    }\n  ]\n}",
=======
                  "raw": "{\n  \"name\": \"elit laborum pariatur enim\",\n  \"description\": \"commodo exer\",\n  \"statements\": [\n    {\n      \"effect\": \"Allow\",\n      \"actions\": {\n        \"id\": \"consequat occaecat magna Duis amet\",\n        \"metadata\": {\n          \"nulla_d0_\": \"reprehenderit eiusmod culpa labore\"\n        }\n      },\n      \"resource\": \"ullamco ipsum commodo proident\",\n      \"condition\": {\n        \"conditions\": [\n          {\n            \"conditions\": [\n              \"in ad in nulla\",\n              \"ipsum id\"\n            ],\n            \"operation\": \"est esse eu\",\n            \"key\": \"reprehenderit proiden\",\n            \"values\": [\n              \"ea nostrud qui\",\n              \"exercitation in\"\n            ]\n          },\n          {\n            \"conditions\": [\n              \"anim irure \",\n              \"id aliquip est occaecat\"\n            ],\n            \"operation\": \"Ut est\",\n            \"key\": \"amet Lorem\",\n            \"values\": [\n              \"veniam anim qui pariatur sint\",\n              \"incididunt labore\"\n            ]\n          }\n        ]\n      },\n      \"operation\": \"deserunt\"\n    },\n    {\n      \"effect\": \"Allow\",\n      \"actions\": {\n        \"id\": \"c\",\n        \"metadata\": {\n          \"exercitationc41\": true\n        }\n      },\n      \"resource\": \"culpa sunt laborum dolore\",\n      \"condition\": {\n        \"conditions\": [\n          {\n            \"conditions\": [\n              \"ullamco mollit\",\n              \"incididunt Duis\"\n            ],\n            \"operation\": \"veniam\",\n            \"key\": \"veniam consequat fugiat\",\n            \"values\": [\n              \"cupidatat et\",\n              \"Excepteur reprehenderit\"\n            ]\n          },\n          {\n            \"conditions\": [\n              \"commodo\",\n              \"laboris fugiat\"\n            ],\n            \"operation\": \"quis nostrud magna\",\n            \"key\": \"sint aliqua\",\n            \"values\": [\n              \"consectetur laboru\",\n              \"veniam laboris irure\"\n            ]\n          }\n        ]\n      },\n      \"operation\": \"dolore nostru\"\n    }\n  ]\n}",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/octet-stream"
                }
              ],
              "body": "",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
<<<<<<< HEAD
                "id": "c699b3b4-46e5-4589-9e2d-0bbcc4987b99",
=======
                "id": "c950e8e2-2d77-4697-a09b-3f1396fefe82",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[PUT]::/api/policy-engine/policies/:id - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[PUT]::/api/policy-engine/policies/:id - Content-Type is application/octet-stream\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/octet-stream\");\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
<<<<<<< HEAD
          "id": "8d69e6ee-2407-499d-80a2-ad71ee6f2f92",
=======
          "id": "898afd8c-e329-4962-bc17-07edd004b1dc",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
          "name": "Delete Policy by ID",
          "request": {
            "name": "Delete Policy by ID",
            "description": {
              "content": "Deletes a specific policy of the account by its ID.",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "api",
                "policy-engine",
                "policies",
                ":id"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Policy ID",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "pa_test_001",
                  "key": "id"
                },
                {
                  "description": {
                    "content": "Name of the VTEX account. Used as part of the URL",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{accountName}}",
                  "key": "accountName"
                },
                {
                  "description": {
                    "content": "Environment to use. Used as part of the URL.",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "{{environment}}",
                  "key": "environment"
                }
              ]
            },
            "method": "DELETE"
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "text"
              },
<<<<<<< HEAD
              "id": "40711fa8-3568-43fc-ba15-e52e4d8f05aa",
=======
              "id": "b1fb00c1-31c5-404b-ab9d-c2ab2fed5e23",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
              "name": "200 OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "api",
                    "policy-engine",
                    "policies",
                    ":id"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": [
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) Policy ID",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "pa_test_001",
                      "key": "id"
                    },
                    {
                      "description": {
                        "content": "Name of the VTEX account. Used as part of the URL",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{accountName}}",
                      "key": "accountName"
                    },
                    {
                      "description": {
                        "content": "Environment to use. Used as part of the URL.",
                        "type": "text/plain"
                      },
                      "type": "any",
                      "value": "{{environment}}",
                      "key": "environment"
                    }
                  ]
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Describes the type of the content being sent",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand ",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "method": "DELETE",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "text/plain"
                }
              ],
              "body": "",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
<<<<<<< HEAD
                "id": "5b5df6b9-6e83-427d-8530-2eef49b044f1",
=======
                "id": "f2e48f53-5c18-42f3-af83-310507ad38a2",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[DELETE]::/api/policy-engine/policies/:id - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        }
      ],
      "event": []
    }
  ],
  "event": [],
  "variable": [
    {
      "description": {
        "content": "Name of the VTEX account. Used as part of the URL",
        "type": "text/plain"
      },
      "type": "any",
      "value": "{accountName}",
      "key": "accountName"
    },
    {
      "description": {
        "content": "Environment to use. Used as part of the URL.",
        "type": "text/plain"
      },
      "type": "any",
      "value": "{environment}",
      "key": "environment"
    },
    {
      "type": "string",
      "value": "https://{{accountName}}.{{environment}}.com.br",
      "key": "baseUrl"
    }
  ],
  "info": {
<<<<<<< HEAD
    "_postman_id": "bc61a75d-aa22-420a-afc2-318ef057b3fd",
=======
    "_postman_id": "00584a0c-a351-4e29-bccc-a03d0031fb44",
>>>>>>> e78261c74a5bd26ffda104b13aa83346fa9e03d1
    "name": "Policies System API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": {
      "content": "\r\n This API will create promotion alarms when selling products with undesired prices and promotions. It will create conditions that will check if the prices and the promotions are correct. If not, the system will alarm the store with information about the product sold at unexpected prices.\r\n\r\n ## Index\r\n\r\n- `GET` [Get Policy List](https://developers.vtex.com/docs/api-reference/policies-system-api#get-/api/policy-engine/policies)\r\n- `POST` [Evaluate Policies](https://developers.vtex.com/docs/api-reference/policies-system-api#post-/api/policy-engine/evaluate)\r\n- `GET` [Get Policy by ID](https://developers.vtex.com/docs/api-reference/policies-system-api#get-/api/policy-engine/policies/-id-)\r\n- `POST` [Create Policy](https://developers.vtex.com/docs/api-reference/policies-system-api#post-/api/policy-engine/policies/-id-)\r\n- `PUT` [Update Policy](https://developers.vtex.com/docs/api-reference/policies-system-api#put-/api/policy-engine/policies/-id-)\r\n- `DELETE` [Delete Policy by ID](https://developers.vtex.com/docs/api-reference/policies-system-api#delete-/api/policy-engine/policies/-id-)",
      "type": "text/plain"
    }
  }
}