{
  "_": {
    "postman_id": "5a2b3c8e-cf06-4096-a129-3ed21cac8896"
  },
  "item": [
    {
      "id": "03ab6b5d-972a-4de7-9170-c7e3e796f1ae",
      "name": "Anti-fraud Flow",
      "description": {
        "content": "",
        "type": "text/plain"
      },
      "item": [
        {
          "id": "8150eb12-62ef-41ea-9ab7-990d4cb0d88f",
          "name": "Send anti-fraud pre-analysis data (optional)",
          "request": {
            "name": "Send anti-fraud pre-analysis data (optional)",
            "description": {
              "content": "Receives a new transaction anti-fraud data for (synchronous) pre-analysis. This step is performed before payments authorization.\r\n\r\n>⚠️ This endpoint can only be used if your anti-fraud provider already has the pre-analysis function configured within VTEX. To check if it is already configured, in the VTEX Admin, go to **Store Settings > Payment > Providers**, click the name of your anti-fraud provider, and verify if the **Enable Risk Pre-Analysis** field is available to be selected. If the **Enable Risk Pre-Analysis** field is not available, check with your anti-fraud provider if this feature is available in their integration and open a ticket in our [VTEX Support](https://help.vtex.com/en/support) to update the connector.\r\n\r\n>⚠️ The pre-analysis does not exclude the need for full analysis after payments authorization.\r\n\r\n## Permissions\r\n\r\nThis endpoint does not require [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "pre-analysis"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppKey",
                "value": "{{X-PROVIDER-API-AppKey}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppToken",
                "value": "{{X-PROVIDER-API-AppToken}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"D3AA1FC8372E430E8236649DB5EBD08E\",\n  \"reference\": \"vtexargentina\",\n  \"value\": 10,\n  \"ip\": \"10.0.0.1\",\n  \"store\": \"serasa\",\n  \"deviceFingerprint\": \"Generated_using_GTM_Store_Is_Responsible_To_Configure\",\n  \"miniCart\": {\n    \"buyer\": {\n      \"id\": \"c1245228-1c68-11e6-94ac-0afa86a846a5\",\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"document\": \"012.345.678-90\",\n      \"documentType\": \"CPF\",\n      \"email\": \"john@doe.com\",\n      \"phone\": \"+5521987654321\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"shipping\": {\n      \"value\": 8.41,\n      \"estimatedDate\": \"2017-08-02T14:46:47\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"items\": [\n      {\n        \"id\": \"132981\",\n        \"name\": \"Shirt\",\n        \"price\": 20.51,\n        \"quantity\": 2,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"111\",\n        \"categoryName\": \"Electronica\",\n        \"discount\": 1.99,\n        \"sellerId\": \"vtexargentina\"\n      },\n      {\n        \"id\": \"132981\",\n        \"name\": \"Shirt\",\n        \"price\": 20.51,\n        \"quantity\": 2,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"111\",\n        \"categoryName\": \"Electronica\",\n        \"discount\": 1.99,\n        \"sellerId\": \"vtexargentina\"\n      }\n    ],\n    \"taxValue\": 5.58,\n    \"listRegistry\": {\n      \"name\": \"My gift list.\",\n      \"deliveryToOwner\": false\n    }\n  },\n  \"payments\": [\n    {\n      \"id\": \"2D00FEBB\",\n      \"method\": \"CreditCard\",\n      \"value\": 63.98,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 3,\n      \"name\": \"Visa\",\n      \"details\": {\n        \"bin\": \"507860\",\n        \"lastDigits\": \"2798\",\n        \"holder\": \"John Doe\",\n        \"address\": {\n          \"country\": \"BRA\",\n          \"street\": \"Rua Praia de Botafogo\",\n          \"number\": \"518\",\n          \"complement\": \"2o. andar\",\n          \"neighborhood\": \"Botafogo\",\n          \"postalCode\": \"22250-040\",\n          \"city\": \"Rio de Janeiro\",\n          \"state\": \"RJ\"\n        }\n      }\n    },\n    {\n      \"id\": \"2D00FEBB\",\n      \"method\": \"CreditCard\",\n      \"value\": 63.98,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 3,\n      \"name\": \"Visa\",\n      \"details\": {\n        \"bin\": \"507860\",\n        \"lastDigits\": \"2798\",\n        \"holder\": \"John Doe\",\n        \"address\": {\n          \"country\": \"BRA\",\n          \"street\": \"Rua Praia de Botafogo\",\n          \"number\": \"518\",\n          \"complement\": \"2o. andar\",\n          \"neighborhood\": \"Botafogo\",\n          \"postalCode\": \"22250-040\",\n          \"city\": \"Rio de Janeiro\",\n          \"state\": \"RJ\"\n        }\n      }\n    }\n  ],\n  \"hook\": \"https://hook.vtex.com/notifyIfChangeStatus\",\n  \"transactionStartDate\": \"2020-10-30T18:08:23\",\n  \"merchantSettings\": [\n    {\n      \"name\": \"Country\",\n      \"value\": \"BRL\"\n    },\n    {\n      \"name\": \"Country\",\n      \"value\": \"BRL\"\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "headerFamily": "json",
                  "language": "json"
                }
              }
            },
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "325d34f9-114a-4d36-91ad-8b6b23a02654",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "pre-analysis"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppKey",
                    "value": "{{X-PROVIDER-API-AppKey}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppToken",
                    "value": "{{X-PROVIDER-API-AppToken}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": \"D3AA1FC8372E430E8236649DB5EBD08E\",\n  \"reference\": \"vtexargentina\",\n  \"value\": 10,\n  \"ip\": \"10.0.0.1\",\n  \"store\": \"serasa\",\n  \"deviceFingerprint\": \"Generated_using_GTM_Store_Is_Responsible_To_Configure\",\n  \"miniCart\": {\n    \"buyer\": {\n      \"id\": \"c1245228-1c68-11e6-94ac-0afa86a846a5\",\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"document\": \"012.345.678-90\",\n      \"documentType\": \"CPF\",\n      \"email\": \"john@doe.com\",\n      \"phone\": \"+5521987654321\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"shipping\": {\n      \"value\": 8.41,\n      \"estimatedDate\": \"2017-08-02T14:46:47\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"items\": [\n      {\n        \"id\": \"132981\",\n        \"name\": \"Shirt\",\n        \"price\": 20.51,\n        \"quantity\": 2,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"111\",\n        \"categoryName\": \"Electronica\",\n        \"discount\": 1.99,\n        \"sellerId\": \"vtexargentina\"\n      },\n      {\n        \"id\": \"132981\",\n        \"name\": \"Shirt\",\n        \"price\": 20.51,\n        \"quantity\": 2,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"111\",\n        \"categoryName\": \"Electronica\",\n        \"discount\": 1.99,\n        \"sellerId\": \"vtexargentina\"\n      }\n    ],\n    \"taxValue\": 5.58,\n    \"listRegistry\": {\n      \"name\": \"My gift list.\",\n      \"deliveryToOwner\": false\n    }\n  },\n  \"payments\": [\n    {\n      \"id\": \"2D00FEBB\",\n      \"method\": \"CreditCard\",\n      \"value\": 63.98,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 3,\n      \"name\": \"Visa\",\n      \"details\": {\n        \"bin\": \"507860\",\n        \"lastDigits\": \"2798\",\n        \"holder\": \"John Doe\",\n        \"address\": {\n          \"country\": \"BRA\",\n          \"street\": \"Rua Praia de Botafogo\",\n          \"number\": \"518\",\n          \"complement\": \"2o. andar\",\n          \"neighborhood\": \"Botafogo\",\n          \"postalCode\": \"22250-040\",\n          \"city\": \"Rio de Janeiro\",\n          \"state\": \"RJ\"\n        }\n      }\n    },\n    {\n      \"id\": \"2D00FEBB\",\n      \"method\": \"CreditCard\",\n      \"value\": 63.98,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 3,\n      \"name\": \"Visa\",\n      \"details\": {\n        \"bin\": \"507860\",\n        \"lastDigits\": \"2798\",\n        \"holder\": \"John Doe\",\n        \"address\": {\n          \"country\": \"BRA\",\n          \"street\": \"Rua Praia de Botafogo\",\n          \"number\": \"518\",\n          \"complement\": \"2o. andar\",\n          \"neighborhood\": \"Botafogo\",\n          \"postalCode\": \"22250-040\",\n          \"city\": \"Rio de Janeiro\",\n          \"state\": \"RJ\"\n        }\n      }\n    }\n  ],\n  \"hook\": \"https://hook.vtex.com/notifyIfChangeStatus\",\n  \"transactionStartDate\": \"2020-10-30T18:08:23\",\n  \"merchantSettings\": [\n    {\n      \"name\": \"Country\",\n      \"value\": \"BRL\"\n    },\n    {\n      \"name\": \"Country\",\n      \"value\": \"BRL\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"id\": \"D3AA1FC8372E430E8236649DB5EBD08E\",\n  \"tid\": \"4692c1f54d514fe69da0b472a3b2a770\",\n  \"code\": \"customCode\",\n  \"message\": \"customMessage\",\n  \"status\": \"approved\",\n  \"score\": 5.01,\n  \"analysisType\": \"automatic\",\n  \"responses\": {\n    \"foo\": \"anyFoo\",\n    \"custom\": \"customAnyValue\"\n  }\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "85aec3c8-66af-4528-bf82-0cddc4cfe1a4",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[POST]::/pre-analysis - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[POST]::/pre-analysis - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[POST]::/pre-analysis - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"required\":[\"id\",\"tid\",\"code\",\"message\",\"status\",\"score\",\"analysisType\",\"responses\"],\"type\":\"object\",\"description\":\"Anti-fraud data.\",\"properties\":{\"id\":{\"type\":\"string\",\"description\":\"VTEX transaction ID. The ID of this transaction must be in the response.\"},\"tid\":{\"type\":\"string\",\"description\":\"Provider transaction ID. The ID of this transaction must be in the response. The anti-fraud provider must generate a unique transaction ID.\"},\"code\":{\"type\":\"string\",\"description\":\"Error code returned from provider. It will be logged in transaction interactions log.\"},\"message\":{\"type\":\"string\",\"description\":\"Error message returned from provider. It will be logged in transaction interactions log.\"},\"status\":{\"description\":\"Pre-analysis status from provider. Must be `approved` or `denied`.\",\"enum\":[\"approved\",\"denied\"]},\"score\":{\"type\":\"number\",\"description\":\"Value of the risk score. The maximum value is `100.00`, which means total fraud.\"},\"analysisType\":{\"type\":\"string\",\"description\":\"Pre-analysis type. Must be `automatic`.\"},\"responses\":{\"required\":[\"foo\",\"custom\"],\"type\":\"object\",\"description\":\"Responses information.\",\"properties\":{\"foo\":{\"type\":\"string\",\"description\":\"Any foo information.\"},\"custom\":{\"type\":\"string\",\"description\":\"Any custom value.\"}}}}}\n\n// Validate if response matches JSON schema \npm.test(\"[POST]::/pre-analysis - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "4cbd63f6-28dc-4605-9836-667b53b23142",
          "name": "Send anti-fraud data",
          "request": {
            "name": "Send anti-fraud data",
            "description": {
              "content": "Receives a new transaction anti-fraud data. This step is performed only if all payments are authorized.\r\n\r\nVTEX expects that your anti-fraud provider process this request and retrieves the process result. After that, the VTEX order flow will check the response status to cancel or approve the transaction.\r\n\r\n## Permissions\r\n\r\nThis endpoint does not require [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "transactions"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppKey",
                "value": "{{X-PROVIDER-API-AppKey}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppToken",
                "value": "{{X-PROVIDER-API-AppToken}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"D3AA1FC8372E430E8236649DB5EBD08E\",\n  \"reference\": \"vtexargentina\",\n  \"value\": 10,\n  \"ip\": \"10.0.0.1\",\n  \"store\": \"serasa\",\n  \"deviceFingerprint\": \"Generated_using_GTM_Store_Is_Responsible_To_Configure\",\n  \"miniCart\": {\n    \"buyer\": {\n      \"id\": \"c1245228-1c68-11e6-94ac-0afa86a846a5\",\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"document\": \"012.345.678-90\",\n      \"documentType\": \"CPF\",\n      \"email\": \"john@doe.com\",\n      \"phone\": \"+5521987654321\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"shipping\": {\n      \"value\": 8.41,\n      \"estimatedDate\": \"2017-08-02T14:46:47\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"items\": [\n      {\n        \"id\": \"132981\",\n        \"name\": \"Shirt\",\n        \"price\": 20.51,\n        \"quantity\": 2,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"111\",\n        \"categoryName\": \"Electronica\",\n        \"discount\": 1.99,\n        \"sellerId\": \"vtexargentina\"\n      },\n      {\n        \"id\": \"132981\",\n        \"name\": \"Shirt\",\n        \"price\": 20.51,\n        \"quantity\": 2,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"111\",\n        \"categoryName\": \"Electronica\",\n        \"discount\": 1.99,\n        \"sellerId\": \"vtexargentina\"\n      }\n    ],\n    \"taxValue\": 5.58,\n    \"listRegistry\": {\n      \"name\": \"My gift list.\",\n      \"deliveryToOwner\": false\n    }\n  },\n  \"payments\": [\n    {\n      \"id\": \"2D00FEBB\",\n      \"method\": \"CreditCard\",\n      \"value\": 63.98,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 3,\n      \"name\": \"Visa\",\n      \"details\": {\n        \"bin\": \"507860\",\n        \"lastDigits\": \"2798\",\n        \"holder\": \"John Doe\",\n        \"address\": {\n          \"country\": \"BRA\",\n          \"street\": \"Rua Praia de Botafogo\",\n          \"number\": \"518\",\n          \"complement\": \"2o. andar\",\n          \"neighborhood\": \"Botafogo\",\n          \"postalCode\": \"22250-040\",\n          \"city\": \"Rio de Janeiro\",\n          \"state\": \"RJ\"\n        }\n      }\n    },\n    {\n      \"id\": \"2D00FEBB\",\n      \"method\": \"CreditCard\",\n      \"value\": 63.98,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 3,\n      \"name\": \"Visa\",\n      \"details\": {\n        \"bin\": \"507860\",\n        \"lastDigits\": \"2798\",\n        \"holder\": \"John Doe\",\n        \"address\": {\n          \"country\": \"BRA\",\n          \"street\": \"Rua Praia de Botafogo\",\n          \"number\": \"518\",\n          \"complement\": \"2o. andar\",\n          \"neighborhood\": \"Botafogo\",\n          \"postalCode\": \"22250-040\",\n          \"city\": \"Rio de Janeiro\",\n          \"state\": \"RJ\"\n        }\n      }\n    }\n  ],\n  \"hook\": \"https://hook.vtex.com/notifyIfChangeStatus\",\n  \"transactionStartDate\": \"2020-10-30T18:08:23\",\n  \"merchantSettings\": [\n    {\n      \"name\": \"Country\",\n      \"value\": \"BRL\"\n    },\n    {\n      \"name\": \"Country\",\n      \"value\": \"BRL\"\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "headerFamily": "json",
                  "language": "json"
                }
              }
            },
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "856e83ed-0cd4-4866-8008-8e8d5d22ba53",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "transactions"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppKey",
                    "value": "{{X-PROVIDER-API-AppKey}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppToken",
                    "value": "{{X-PROVIDER-API-AppToken}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": \"D3AA1FC8372E430E8236649DB5EBD08E\",\n  \"reference\": \"vtexargentina\",\n  \"value\": 10,\n  \"ip\": \"10.0.0.1\",\n  \"store\": \"serasa\",\n  \"deviceFingerprint\": \"Generated_using_GTM_Store_Is_Responsible_To_Configure\",\n  \"miniCart\": {\n    \"buyer\": {\n      \"id\": \"c1245228-1c68-11e6-94ac-0afa86a846a5\",\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"document\": \"012.345.678-90\",\n      \"documentType\": \"CPF\",\n      \"email\": \"john@doe.com\",\n      \"phone\": \"+5521987654321\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"shipping\": {\n      \"value\": 8.41,\n      \"estimatedDate\": \"2017-08-02T14:46:47\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"items\": [\n      {\n        \"id\": \"132981\",\n        \"name\": \"Shirt\",\n        \"price\": 20.51,\n        \"quantity\": 2,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"111\",\n        \"categoryName\": \"Electronica\",\n        \"discount\": 1.99,\n        \"sellerId\": \"vtexargentina\"\n      },\n      {\n        \"id\": \"132981\",\n        \"name\": \"Shirt\",\n        \"price\": 20.51,\n        \"quantity\": 2,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"111\",\n        \"categoryName\": \"Electronica\",\n        \"discount\": 1.99,\n        \"sellerId\": \"vtexargentina\"\n      }\n    ],\n    \"taxValue\": 5.58,\n    \"listRegistry\": {\n      \"name\": \"My gift list.\",\n      \"deliveryToOwner\": false\n    }\n  },\n  \"payments\": [\n    {\n      \"id\": \"2D00FEBB\",\n      \"method\": \"CreditCard\",\n      \"value\": 63.98,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 3,\n      \"name\": \"Visa\",\n      \"details\": {\n        \"bin\": \"507860\",\n        \"lastDigits\": \"2798\",\n        \"holder\": \"John Doe\",\n        \"address\": {\n          \"country\": \"BRA\",\n          \"street\": \"Rua Praia de Botafogo\",\n          \"number\": \"518\",\n          \"complement\": \"2o. andar\",\n          \"neighborhood\": \"Botafogo\",\n          \"postalCode\": \"22250-040\",\n          \"city\": \"Rio de Janeiro\",\n          \"state\": \"RJ\"\n        }\n      }\n    },\n    {\n      \"id\": \"2D00FEBB\",\n      \"method\": \"CreditCard\",\n      \"value\": 63.98,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 3,\n      \"name\": \"Visa\",\n      \"details\": {\n        \"bin\": \"507860\",\n        \"lastDigits\": \"2798\",\n        \"holder\": \"John Doe\",\n        \"address\": {\n          \"country\": \"BRA\",\n          \"street\": \"Rua Praia de Botafogo\",\n          \"number\": \"518\",\n          \"complement\": \"2o. andar\",\n          \"neighborhood\": \"Botafogo\",\n          \"postalCode\": \"22250-040\",\n          \"city\": \"Rio de Janeiro\",\n          \"state\": \"RJ\"\n        }\n      }\n    }\n  ],\n  \"hook\": \"https://hook.vtex.com/notifyIfChangeStatus\",\n  \"transactionStartDate\": \"2020-10-30T18:08:23\",\n  \"merchantSettings\": [\n    {\n      \"name\": \"Country\",\n      \"value\": \"BRL\"\n    },\n    {\n      \"name\": \"Country\",\n      \"value\": \"BRL\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"id\": \"D3AA1FC8372E430E8236649DB5EBD08E\",\n  \"tid\": \"4692c1f54d514fe69da0b472a3b2a770\",\n  \"code\": \"customCode\",\n  \"message\": \"customMessage\",\n  \"status\": \"approved\",\n  \"score\": 5.01,\n  \"analysisType\": \"automatic\",\n  \"responses\": {\n    \"foo\": \"anyFoo\",\n    \"custom\": \"customAnyValue\"\n  }\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "bfda8c9e-c3a6-4b67-b3c3-72e117894234",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[POST]::/transactions - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[POST]::/transactions - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[POST]::/transactions - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"required\":[\"id\",\"tid\",\"code\",\"message\",\"status\",\"score\",\"analysisType\",\"responses\"],\"type\":\"object\",\"description\":\"Anti-fraud data.\",\"properties\":{\"id\":{\"type\":\"string\",\"description\":\"VTEX transaction ID. The ID of this transaction must be in the response.\"},\"tid\":{\"type\":\"string\",\"description\":\"Provider transaction ID. The ID of this transaction must be in the response. The anti-fraud provider must generate a unique transaction ID.\"},\"code\":{\"type\":\"string\",\"description\":\"Error code returned from provider. It will be logged in transaction interactions log.\"},\"message\":{\"type\":\"string\",\"description\":\"Error message returned from provider. It will be logged in transaction interactions log.\"},\"status\":{\"description\":\"Pre-analysis status from provider. Must be `approved` or `denied`.\",\"enum\":[\"approved\",\"denied\"]},\"score\":{\"type\":\"number\",\"description\":\"Value of the risk score. The maximum value is `100.00`, which means total fraud.\"},\"analysisType\":{\"type\":\"string\",\"description\":\"Pre-analysis type. Must be `automatic`.\"},\"responses\":{\"required\":[\"foo\",\"custom\"],\"type\":\"object\",\"description\":\"Responses information.\",\"properties\":{\"foo\":{\"type\":\"string\",\"description\":\"Any foo information.\"},\"custom\":{\"type\":\"string\",\"description\":\"Any custom value.\"}}}}}\n\n// Validate if response matches JSON schema \npm.test(\"[POST]::/transactions - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "a1c7fd5b-936d-4daf-a9b6-c43b29e9c359",
          "name": "Update anti-fraud transactions (optional)",
          "request": {
            "name": "Update anti-fraud transactions (optional)",
            "description": {
              "content": "Receives a new transaction anti-fraud data. This step is performed only if all payments are authorized.\r\n\r\nVTEX expects that your anti-fraud provider process this request and retrieves the process result. After that, the VTEX order flow will check the response status to cancel or approve the transaction.\r\n\r\n## Permissions\r\n\r\nThis endpoint does not require [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "transactions",
                ":transactionId"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "type": "any",
                  "key": "transactionId"
                },
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) VTEX transaction ID. This parameter is the same `id` sent in the request body of the [Send Anti-fraud Data endpoint](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#post-/transactions).",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "D3AA1FC8372E430E8236649DB5EBD08E",
                  "key": "transactions.Id"
                }
              ]
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppKey",
                "value": "{{X-PROVIDER-API-AppKey}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppToken",
                "value": "{{X-PROVIDER-API-AppToken}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"D3AA1FC8372E430E8236649DB5EBD08E\",\n  \"reference\": \"v32478982vtx-01\",\n  \"value\": 10,\n  \"ip\": \"10.0.0.1\",\n  \"store\": \"serasa\",\n  \"deviceFingerprint\": \"Generated_using_GTM_Store_Is_Responsible_To_Configure\",\n  \"miniCart\": {\n    \"buyer\": {\n      \"id\": \"c1245228-1c68-11e6-94ac-0afa86a846a5\",\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"document\": \"012.345.678-90\",\n      \"documentType\": \"CPF\",\n      \"email\": \"john@doe.com\",\n      \"phone\": \"+5521987654321\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"shipping\": {\n      \"value\": 8.41,\n      \"estimatedDate\": \"2017-08-02T14:46:47\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"items\": [\n      {\n        \"id\": \"132981\",\n        \"name\": \"Some useful product\",\n        \"price\": 20.51,\n        \"quantity\": 2,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"111\",\n        \"categoryName\": \"Electronica\",\n        \"discount\": 1.99,\n        \"sellerId\": \"vtexargentina\"\n      },\n      {\n        \"id\": \"123242\",\n        \"name\": \"Some useless product\",\n        \"price\": 21.98,\n        \"quantity\": 1,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"123\",\n        \"categoryName\": \"Lar\",\n        \"discount\": 1.01,\n        \"sellerId\": \"vtexargentina\"\n      }\n    ],\n    \"taxValue\": 5.58,\n    \"listRegistry\": {\n      \"name\": \"Minha lista Presente\",\n      \"deliveryToOwner\": false\n    }\n  },\n  \"payments\": [\n    {\n      \"id\": \"2D00FE\",\n      \"method\": \"CreditCard\",\n      \"name\": \"Visa\",\n      \"value\": 63.98,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 3,\n      \"details\": {\n        \"bin\": \"507860\",\n        \"lastDigits\": \"2798\",\n        \"holder\": \"John Doe\",\n        \"address\": {\n          \"country\": \"BRA\",\n          \"street\": \"Rua Praia de Botafogo\",\n          \"number\": \"518\",\n          \"complement\": \"2o. andar\",\n          \"neighborhood\": \"Botafogo\",\n          \"postalCode\": \"22250-040\",\n          \"city\": \"Rio de Janeiro\",\n          \"state\": \"RJ\"\n        }\n      }\n    },\n    {\n      \"id\": \"04D430E517B2494FBC3DF7721CCDACC7\",\n      \"method\": \"GiftCard\",\n      \"value\": 10.01,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 1\n    }\n  ],\n  \"hook\": \"https://hook.vtex.com/notifyIfChangeStatus\"\n}",
              "options": {
                "raw": {
                  "headerFamily": "json",
                  "language": "json"
                }
              }
            },
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "2d727c73-786f-443b-960b-22ce7e0dd6ca",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "transactions",
                    ":transactionId"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppKey",
                    "value": "{{X-PROVIDER-API-AppKey}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppToken",
                    "value": "{{X-PROVIDER-API-AppToken}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": \"D3AA1FC8372E430E8236649DB5EBD08E\",\n  \"reference\": \"v32478982vtx-01\",\n  \"value\": 10,\n  \"ip\": \"10.0.0.1\",\n  \"store\": \"serasa\",\n  \"deviceFingerprint\": \"Generated_using_GTM_Store_Is_Responsible_To_Configure\",\n  \"miniCart\": {\n    \"buyer\": {\n      \"id\": \"c1245228-1c68-11e6-94ac-0afa86a846a5\",\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"document\": \"012.345.678-90\",\n      \"documentType\": \"CPF\",\n      \"email\": \"john@doe.com\",\n      \"phone\": \"+5521987654321\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"shipping\": {\n      \"value\": 8.41,\n      \"estimatedDate\": \"2017-08-02T14:46:47\",\n      \"address\": {\n        \"country\": \"BRA\",\n        \"street\": \"Rua Praia de Botafogo\",\n        \"number\": \"518\",\n        \"complement\": \"2o. andar\",\n        \"neighborhood\": \"Botafogo\",\n        \"postalCode\": \"22250-040\",\n        \"city\": \"Rio de Janeiro\",\n        \"state\": \"RJ\"\n      }\n    },\n    \"items\": [\n      {\n        \"id\": \"132981\",\n        \"name\": \"Some useful product\",\n        \"price\": 20.51,\n        \"quantity\": 2,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"111\",\n        \"categoryName\": \"Electronica\",\n        \"discount\": 1.99,\n        \"sellerId\": \"vtexargentina\"\n      },\n      {\n        \"id\": \"123242\",\n        \"name\": \"Some useless product\",\n        \"price\": 21.98,\n        \"quantity\": 1,\n        \"deliveryType\": \"Normal\",\n        \"deliverySlaInMinutes\": 4320,\n        \"categoryId\": \"123\",\n        \"categoryName\": \"Lar\",\n        \"discount\": 1.01,\n        \"sellerId\": \"vtexargentina\"\n      }\n    ],\n    \"taxValue\": 5.58,\n    \"listRegistry\": {\n      \"name\": \"Minha lista Presente\",\n      \"deliveryToOwner\": false\n    }\n  },\n  \"payments\": [\n    {\n      \"id\": \"2D00FE\",\n      \"method\": \"CreditCard\",\n      \"name\": \"Visa\",\n      \"value\": 63.98,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 3,\n      \"details\": {\n        \"bin\": \"507860\",\n        \"lastDigits\": \"2798\",\n        \"holder\": \"John Doe\",\n        \"address\": {\n          \"country\": \"BRA\",\n          \"street\": \"Rua Praia de Botafogo\",\n          \"number\": \"518\",\n          \"complement\": \"2o. andar\",\n          \"neighborhood\": \"Botafogo\",\n          \"postalCode\": \"22250-040\",\n          \"city\": \"Rio de Janeiro\",\n          \"state\": \"RJ\"\n        }\n      }\n    },\n    {\n      \"id\": \"04D430E517B2494FBC3DF7721CCDACC7\",\n      \"method\": \"GiftCard\",\n      \"value\": 10.01,\n      \"currencyIso4217\": \"BRL\",\n      \"installments\": 1\n    }\n  ],\n  \"hook\": \"https://hook.vtex.com/notifyIfChangeStatus\"\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"id\": \"D3AA1FC8372E430E8236649DB5EBD08E\",\n  \"status\": \"approved\",\n  \"fraudRiskPercentage\": 0,\n  \"analysisType\": \"automatic\",\n  \"responses\": null\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "43a791dd-f330-446e-a293-09971ca63a41",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[PUT]::/transactions/:transactionId - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[PUT]::/transactions/:transactionId - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[PUT]::/transactions/:transactionId - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"required\":[\"id\",\"status\",\"fraudRiskPercentage\",\"analysisType\",\"responses\"],\"type\":\"object\",\"description\":\"Anti-fraud transaction data.\",\"properties\":{\"id\":{\"type\":\"string\",\"description\":\"VTEX transaction ID. The ID of this transaction must be in the response.\"},\"status\":{\"type\":\"string\",\"description\":\"Transaction status from provider. Must be one of the values: `approved`, `denied` or `undefined`.\"},\"fraudRiskPercentage\":{\"type\":\"number\",\"description\":\"Fraud risk percentage.\"},\"analysisType\":{\"type\":\"string\",\"description\":\"Analysis type. Valid values are `automatic` or `manual`.\"},\"responses\":{\"type\":[\"string\",\"null\"],\"description\":\"Value dictionary to add custom responses from analysis.\"}}}\n\n// Validate if response matches JSON schema \npm.test(\"[PUT]::/transactions/:transactionId - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "5859f354-02c6-41bb-a926-17ea4d29e05b",
          "name": "List anti-fraud provider manifest",
          "request": {
            "name": "List anti-fraud provider manifest",
            "description": {
              "content": "Returns the custom fields of the anti-fraud provider manifest.\r\n\r\n## Permissions\r\n\r\nThis endpoint does not require [authentication](https://developers.vtex.com/docs/guides/authentication) or [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "manifest"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "GET",
            "body": {}
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "1e907917-819a-4e21-abdb-437bdd6d3288",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "manifest"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"cardholderDocument\": \"required\",\n  \"allowAntifraudOnGiftCard\": true,\n  \"customFields\": [\n    {\n      \"name\": \"AnalysisMode\",\n      \"type\": \"text\"\n    },\n    {\n      \"name\": \"Client secret\",\n      \"type\": \"password\"\n    },\n    {\n      \"name\": \"AnalysisLocation\",\n      \"type\": \"select\",\n      \"options\": [\n        {\n          \"text\": \"MEX\",\n          \"value\": \"Latin America\"\n        },\n        {\n          \"text\": \"USA\",\n          \"value\": \"United States\"\n        }\n      ]\n    }\n  ]\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5cc20cd5-ce9a-4fa0-95e3-966fdbc75279",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/manifest - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[GET]::/manifest - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[GET]::/manifest - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"required\":[\"customFields\"],\"type\":\"object\",\"description\":\"Custom fields information.\",\"properties\":{\"cardholderDocument\":{\"type\":\"string\",\"description\":\"Indicates the requirement of cardholder document in card transactions. The field has three possible values: `required`, `optional`, or `unused`.\"},\"allowAntifraudOnGiftCard\":{\"type\":\"boolean\",\"description\":\"Indicates whether the anti-fraud provider can process payment transactions made using [gift cards](https://developers.vtex.com/docs/guides/gift-card-integration-guide).\"},\"customFields\":{\"type\":\"array\",\"description\":\"Describes the customized fields supported by the connector.\",\"items\":{\"type\":\"object\",\"description\":\"Custom fields information.\",\"properties\":{\"name\":{\"type\":\"string\",\"description\":\"Custom field name.\"},\"type\":{\"type\":\"string\",\"description\":\"Custom field type. Sensitive or security data should be defined as `password`.\",\"enum\":[\"text\",\"password\",\"select\"]},\"options\":{\"type\":\"array\",\"description\":\"In case of `select` type, the possible params are `text` and `value`.\",\"items\":{\"type\":\"object\",\"description\":\"Custom field information.\",\"properties\":{\"text\":{\"type\":\"string\",\"description\":\"Custom field description.\"},\"value\":{\"type\":\"string\",\"description\":\"Custom field value.\"}}}}}}}}}\n\n// Validate if response matches JSON schema \npm.test(\"[GET]::/manifest - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "25eb36d0-a40d-4296-8b82-693ab11794c9",
          "name": "Get anti-fraud status",
          "request": {
            "name": "Get anti-fraud status",
            "description": {
              "content": "Retrieves the anti-fraud analysis status. This request is performed every two hours up to 5 days. After 5 days in `undefined` status, the order will expire and be cancelled.\r\n\r\n## Permissions\r\n\r\nThis endpoint does not require [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "transactions",
                ":transactions.id"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "type": "any",
                  "key": "transactions"
                },
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) VTEX transaction ID. This parameter is the same `id` sent in the request body of the [Send Anti-fraud Data endpoint](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#post-/transactions).",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "D3AA1FC8372E430E8236649DB5EBD08E",
                  "key": "transactions.Id"
                }
              ]
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppKey",
                "value": "{{X-PROVIDER-API-AppKey}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppToken",
                "value": "{{X-PROVIDER-API-AppToken}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "GET",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "fb47a187-c745-4f3a-9991-0cadb2acb64b",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "transactions",
                    ":transactions.id"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppKey",
                    "value": "{{X-PROVIDER-API-AppKey}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppToken",
                    "value": "{{X-PROVIDER-API-AppToken}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"id\": \"BF900B7CB15147F98D91208989100A05\",\n  \"tid\": \"3146f46162f042f483cd3979ba4e8317\",\n  \"status\": \"approved\",\n  \"fraudRiskPercentage\": 5.01,\n  \"analysisType\": \"automatic\",\n  \"responses\": {\n    \"foo\": \"anyFoo\",\n    \"custom\": \"customAnyValue\"\n  }\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f9f37a2b-77da-4ac1-ac01-9d1b8d5fd1ae",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/transactions/:transactions.id - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[GET]::/transactions/:transactions.id - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[GET]::/transactions/:transactions.id - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"required\":[\"id\",\"tid\",\"status\",\"fraudRiskPercentage\",\"analysisType\",\"responses\"],\"type\":\"object\",\"description\":\"Anti-fraud status information.\",\"properties\":{\"id\":{\"type\":\"string\",\"description\":\"VTEX transaction ID. The ID of this transaction must be in the response.\"},\"tid\":{\"type\":\"string\",\"description\":\"Provider transaction ID. The ID of this transaction must be in the response. The anti-fraud provider must generate a unique transaction ID.\"},\"status\":{\"type\":\"string\",\"description\":\"Transaction status from provider. Must be one of the values: `approved`, `denied` or `undefined`.\"},\"fraudRiskPercentage\":{\"type\":\"number\",\"description\":\"Fraud risk percentage.\"},\"analysisType\":{\"type\":\"string\",\"description\":\"Analysis type. Valid values are `automatic` or `manual`.\"},\"responses\":{\"required\":[\"foo\",\"custom\"],\"type\":\"object\",\"description\":\"Responses information.\",\"properties\":{\"foo\":{\"type\":\"string\",\"description\":\"Any foo information.\"},\"custom\":{\"type\":\"string\",\"description\":\"Any custom value.\"}}}}}\n\n// Validate if response matches JSON schema \npm.test(\"[GET]::/transactions/:transactions.id - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "f19ad51e-3f54-46da-8162-dd8ce859732d",
          "name": "Stop anti-fraud analysis (optional)",
          "request": {
            "name": "Stop anti-fraud analysis (optional)",
            "description": {
              "content": "Notifies whether the order has been canceled by the store or the buyer before completing the anti-fraud analysis status.\r\n\r\n This endpoint is not mandatory for the antifraud flow to work. Check this [developer guide](https://developers.vtex.com/docs/guides/how-the-integration-protocol-between-vtex-and-antifraud-companies-works) for more details.\r\n\r\n## Permissions\r\n\r\nThis endpoint does not require [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "transactions",
                ":transactions.Id"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": [
                {
                  "type": "any",
                  "key": "transactions"
                },
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) VTEX transaction ID. This parameter is the same `id` sent in the request body of the [Send Anti-fraud Data endpoint](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#post-/transactions).",
                    "type": "text/plain"
                  },
                  "type": "any",
                  "value": "D3AA1FC8372E430E8236649DB5EBD08E",
                  "key": "transactions.Id"
                }
              ]
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppKey",
                "value": "{{X-PROVIDER-API-AppKey}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppToken",
                "value": "{{X-PROVIDER-API-AppToken}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "DELETE",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "623cad22-dd79-431d-90c2-8a3eefe2e6fd",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "transactions",
                    ":transactions.Id"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppKey",
                    "value": "{{X-PROVIDER-API-AppKey}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppToken",
                    "value": "{{X-PROVIDER-API-AppToken}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "DELETE",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "[\n  {\n    \"name\": \"CreditCard\"\n  },\n  {\n    \"name\": \"DebitCard\"\n  },\n  {\n    \"name\": \"GiftCard\"\n  },\n  {\n    \"name\": \"BankIssueInvoice\"\n  },\n  {\n    \"name\": \"Voucher\"\n  },\n  {\n    \"name\": \"Promissory\"\n  }\n]",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ef82c9e4-2daf-4766-9854-c85c3e2167e0",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[DELETE]::/transactions/:transactions.Id - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[DELETE]::/transactions/:transactions.Id - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[DELETE]::/transactions/:transactions.Id - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"type\":\"array\",\"items\":{\"required\":[\"name\"],\"type\":\"object\",\"description\":\"Payment methods information.\",\"properties\":{\"name\":{\"type\":\"string\",\"description\":\"Payment method name.\"}}}}\n\n// Validate if response matches JSON schema \npm.test(\"[DELETE]::/transactions/:transactions.Id - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        }
      ],
      "event": []
    },
    {
      "id": "5edba535-b5d5-4283-b347-3aaecb8691c7",
      "name": "OAuth Flow",
      "description": {
        "content": "",
        "type": "text/plain"
      },
      "item": [
        {
          "id": "e29af1de-f825-44be-80af-40b0dca4e14a",
          "name": "1. Retrieve token",
          "request": {
            "name": "1. Retrieve token",
            "description": {
              "content": "This endpoint is used to retrieve a payment provider token.\r\n\r\n## Permissions\r\n\r\nThis endpoint does not require [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "authorization",
                "token"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppKey",
                "value": "{{X-PROVIDER-API-AppKey}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppToken",
                "value": "{{X-PROVIDER-API-AppToken}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"applicationId\": \"vtex\",\n  \"returnUrl\": \"https://storevtex.vtexpayments.com/?authorizationCode=\"\n}",
              "options": {
                "raw": {
                  "headerFamily": "json",
                  "language": "json"
                }
              }
            },
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "d000d185-67f9-4a51-8b28-5421d3c2e938",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "authorization",
                    "token"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppKey",
                    "value": "{{X-PROVIDER-API-AppKey}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppToken",
                    "value": "{{X-PROVIDER-API-AppToken}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"applicationId\": \"vtex\",\n  \"returnUrl\": \"https://storevtex.vtexpayments.com/?authorizationCode=\"\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"applicationId\": \"vtex\",\n  \"token\": \"358a5bea-07d0-4122-888a-54ab70b5f02f\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9cac231e-8037-4543-b648-a10f5310c954",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[POST]::/authorization/token - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[POST]::/authorization/token - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[POST]::/authorization/token - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"required\":[\"applicationId\",\"token\"],\"type\":\"object\",\"description\":\"Token information.\",\"properties\":{\"applicationId\":{\"type\":\"string\",\"description\":\"This value is always identified as `vtex`.\"},\"token\":{\"type\":\"string\",\"description\":\"Payment Provider Token. Used to identify the context after you receive the redirected user to your site.\"}}}\n\n// Validate if response matches JSON schema \npm.test(\"[POST]::/authorization/token - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "499abf48-3d12-4a31-9604-624d79a11470",
          "name": "2. Redirect",
          "request": {
            "name": "2. Redirect",
            "description": {
              "content": "Through this endpoint, VTEX will redirect the store administrator to the Payment provider website using the `token` retrieved in the [previous request](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#post-/authorization/token).\r\n\r\nAt this point in the flow, the provider shows the login site to the store admin and authorizes VTEX to use its integration as a valid Payment Provider Processor. After that, your server generates an `authorizationCode`.\r\n\r\n## Permissions\r\n\r\nThis endpoint does not require [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "redirect"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Token information.",
                    "type": "text/plain"
                  },
                  "key": "token",
                  "value": "{token}"
                },
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) VTEX application identifier.",
                    "type": "text/plain"
                  },
                  "key": "applicationId",
                  "value": "vtex"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppKey",
                "value": "{{X-PROVIDER-API-AppKey}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppToken",
                "value": "{{X-PROVIDER-API-AppToken}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Type of the content being sent.",
                  "type": "text/plain"
                },
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                  "type": "text/plain"
                },
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "GET",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "text"
              },
              "id": "9c5fda32-3beb-42b2-a5e8-ecc038d2029b",
              "name": "OK. This endpoint does not return any data in the response body.",
              "originalRequest": {
                "url": {
                  "path": [
                    "redirect"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) Token information.",
                        "type": "text/plain"
                      },
                      "key": "token",
                      "value": "{token}"
                    },
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) VTEX application identifier.",
                        "type": "text/plain"
                      },
                      "key": "applicationId",
                      "value": "vtex"
                    }
                  ],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppKey",
                    "value": "{{X-PROVIDER-API-AppKey}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppToken",
                    "value": "{{X-PROVIDER-API-AppToken}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Type of the content being sent.",
                      "type": "text/plain"
                    },
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand.",
                      "type": "text/plain"
                    },
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6b558f6f-c2c1-4d3c-a0d1-715a6c77601e",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/redirect - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "d56ddf81-250f-4952-8ae4-a16fb5de312a",
          "name": "3. Return to VTEX",
          "request": {
            "name": "3. Return to VTEX",
            "description": {
              "content": "Through this endpoint, the provider will redirect the store administrator to the VTEX website using the `returnUrl` passed from VTEX to create token.\r\n\r\nThe `returnUrl` must be filled with your query string **authorizationCode**.\r\n\r\nExample:\r\n\r\nIf you receive the following URL:\r\n\r\n`https://store.vtex.com/return?authorizationCode=&otherparams...`\r\n\r\nand your **authorizationCode** is `pro2018`. Then, you redirect the store administrator to: `https://store.vtex.com/return?authorizationCode=pro2018&otherparams...`.\r\n\r\n## Permissions\r\n\r\nThis endpoint does not require [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "authorizationCode"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Provider authorization code information.",
                    "type": "text/plain"
                  },
                  "key": "providerAuthorizationCode",
                  "value": "{providerAuthorizationCode}"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppKey",
                "value": "{{X-PROVIDER-API-AppKey}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppToken",
                "value": "{{X-PROVIDER-API-AppToken}}"
              }
            ],
            "method": "GET",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "text"
              },
              "id": "3b16e90b-1787-40e4-b4d4-d0c6d43fe6c9",
              "name": "OK. This endpoint does not return any data in the response body.",
              "originalRequest": {
                "url": {
                  "path": [
                    "authorizationCode"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) Provider authorization code information.",
                        "type": "text/plain"
                      },
                      "key": "providerAuthorizationCode",
                      "value": "{providerAuthorizationCode}"
                    }
                  ],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppKey",
                    "value": "{{X-PROVIDER-API-AppKey}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppToken",
                    "value": "{{X-PROVIDER-API-AppToken}}"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [],
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b80208b2-2276-431c-b0a3-2d2eaf8be4b8",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/authorizationCode - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        },
        {
          "id": "9dcd5b23-6a63-4ac2-a8ab-4b058f7160f7",
          "name": "4. Get credentials",
          "request": {
            "name": "4. Get credentials",
            "description": {
              "content": "Retrieves merchant credentials.\r\n\r\n## Permissions\r\n\r\nThis endpoint does not require [permissions](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3).",
              "type": "text/plain"
            },
            "url": {
              "path": [
                "authorization",
                "credentials"
              ],
              "host": [
                "{{baseUrl}}"
              ],
              "query": [
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) Code generate by affiliation that will be used to identify the merchant authorization.",
                    "type": "text/plain"
                  },
                  "key": "authorizationCode",
                  "value": "{authorizationCode}"
                },
                {
                  "disabled": false,
                  "description": {
                    "content": "(Required) VTEX application identifier.",
                    "type": "text/plain"
                  },
                  "key": "applicationId",
                  "value": "vtex"
                }
              ],
              "variable": []
            },
            "header": [
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppKey",
                "value": "{{X-PROVIDER-API-AppKey}}"
              },
              {
                "disabled": false,
                "description": {
                  "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                  "type": "text/plain"
                },
                "key": "X-PROVIDER-API-AppToken",
                "value": "{{X-PROVIDER-API-AppToken}}"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "method": "GET",
            "body": {},
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "type": "any",
                  "value": "VtexIdclientAutCookie",
                  "key": "key"
                },
                {
                  "type": "any",
                  "value": "{{apiKey}}",
                  "key": "value"
                },
                {
                  "type": "any",
                  "value": "header",
                  "key": "in"
                }
              ]
            }
          },
          "response": [
            {
              "_": {
                "postman_previewlanguage": "json"
              },
              "id": "72584578-b46a-4df8-b75a-1f21c027d893",
              "name": "OK",
              "originalRequest": {
                "url": {
                  "path": [
                    "authorization",
                    "credentials"
                  ],
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "query": [
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) Code generate by affiliation that will be used to identify the merchant authorization.",
                        "type": "text/plain"
                      },
                      "key": "authorizationCode",
                      "value": "{authorizationCode}"
                    },
                    {
                      "disabled": false,
                      "description": {
                        "content": "(Required) VTEX application identifier.",
                        "type": "text/plain"
                      },
                      "key": "applicationId",
                      "value": "vtex"
                    }
                  ],
                  "variable": []
                },
                "header": [
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique identifier created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppKey",
                    "value": "{{X-PROVIDER-API-AppKey}}"
                  },
                  {
                    "disabled": false,
                    "description": {
                      "content": "(Required) Unique token created by the provider and configured on the provider configuration page (Admin VTEX).",
                      "type": "text/plain"
                    },
                    "key": "X-PROVIDER-API-AppToken",
                    "value": "{{X-PROVIDER-API-AppToken}}"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  },
                  {
                    "description": {
                      "content": "Added as a part of security scheme: apikey",
                      "type": "text/plain"
                    },
                    "key": "VtexIdclientAutCookie",
                    "value": "<API Key>"
                  }
                ],
                "method": "GET",
                "body": {}
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n  \"applicationId\": \"vtex\",\n  \"appKey\": \"c5a5e3f1-4a77-4a00-8b53-0d1adb3e9628\",\n  \"appToken\": \"57ea254d-f3d3-488d-88d7-129766037ed1\"\n}",
              "cookie": []
            }
          ],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6ec47e00-0c86-49f7-bdbb-b9f3b45e8e63",
                "type": "text/javascript",
                "exec": [
                  "// Validate status 2xx \npm.test(\"[GET]::/authorization/credentials - Status code is 2xx\", function () {\n   pm.response.to.be.success;\n});\n",
                  "// Validate if response header has matching content-type\npm.test(\"[GET]::/authorization/credentials - Content-Type is application/json\", function () {\n   pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\n});\n",
                  "// Validate if response has JSON Body \npm.test(\"[GET]::/authorization/credentials - Response has JSON Body\", function () {\n    pm.response.to.have.jsonBody();\n});\n",
                  "// Response Validation\nconst schema = {\"required\":[\"applicationId\",\"appKey\",\"appToken\"],\"type\":\"object\",\"description\":\"Credentials information.\",\"properties\":{\"applicationId\":{\"type\":\"string\",\"description\":\"This value is always identified as `vtex`.\"},\"appKey\":{\"type\":\"string\",\"description\":\"It will be used in all API requests as X-VTEX-API-AppKey.\"},\"appToken\":{\"type\":\"string\",\"description\":\"It will be used in all API requests as X-VTEX-API-AppToken.\"}}}\n\n// Validate if response matches JSON schema \npm.test(\"[GET]::/authorization/credentials - Schema is valid\", function() {\n    pm.response.to.have.jsonSchema(schema,{unknownFormats: [\"int32\", \"int64\", \"float\", \"double\"]});\n});\n"
                ]
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          }
        }
      ],
      "event": []
    }
  ],
  "event": [],
  "variable": [
    {
      "type": "any",
      "value": "{providerApiEndpoint}",
      "key": "providerApiEndpoint"
    },
    {
      "type": "any",
      "value": "https://{{providerApiEndpoint}}",
      "key": "baseUrl"
    }
  ],
  "info": {
    "_postman_id": "5a2b3c8e-cf06-4096-a129-3ed21cac8896",
    "name": "Anti-fraud Provider API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": {
      "content": ">ℹ️ Onboarding guide\r\n>\r\n> Check the new [Payments onboarding guide](https://developers.vtex.com/docs/guides/payments-overview). We created this guide to improve the onboarding experience for developers at VTEX. It assembles all documentation on our Developer Portal about Payments and is organized by focusing on the developer's journey.\r\n\r\nThe Anti-fraud Provider Protocol is a set of definitions to help you integrate your anti-fraud service API into VTEX platform.\r\n\r\nTo achieve this, you need to implement a web API (REST) following the specifications described in this documentation.\r\n\r\n>⚠️ You can also access our [template on GitHub](https://github.com/vtex-apps/antifraud-provider-example) to help you quickly develop your anti-fraud connector using the Anti-fraud Provider Protocol and VTEX IO.\r\n\r\nTo learn more about the Anti-fraud Provider Protocol, check our [developer guide](https://developers.vtex.com/docs/guides/how-the-integration-protocol-between-vtex-and-antifraud-companies-works).\r\n\r\n## Anti-fraud Provider API Index\r\n\r\n### Anti-fraud Flow\r\n\r\n- `POST` [Send anti-fraud pre-analysis data (optional)](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#post-/pre-analysis)\r\n- `POST` [Send anti-fraud data](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#post-/transactions)\r\n- `PUT` [Update anti-fraud transactions (optional)](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#put-/transactions/-transactionId-)\r\n- `GET` [List anti-fraud provider manifest](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#get-/manifest)\r\n- `GET` [Get anti-fraud status](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#get-/transactions/-transactions.id-)\r\n- `DELETE` [Stop anti-fraud analysis (optional)](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#delete-/transactions/-transactions.Id-)\r\n\r\n### OAuth Flow\r\n\r\n1. `POST` [Retrieve token](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#post-/authorization/token)\r\n2. `GET` [Redirect](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#get-/redirect)\r\n3. `GET` [Return to VTEX](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#get-/authorizationCode)\r\n4. `GET` [Get credentials](https://developers.vtex.com/docs/api-reference/antifraud-provider-protocol#get-/authorization/credentials)",
      "type": "text/plain"
    }
  }
}