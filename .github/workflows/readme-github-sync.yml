name: Sync Readme.io

on: 
 
  push:
    branches:
      - 'master'

jobs:
  Sync:

    runs-on: ubuntu-latest
    
    steps:
    - name: Sync Master Data V2 schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8ba' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Master Data API - v2.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Master Data V1 schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8ce' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - MasterData API - v10.2.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Session Manager schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8bb' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Session Manager API.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync License Manager schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8bc' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - License Manager API.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync 'Change url schema' schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8bf' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'CMS - Change URI Schema.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Customer Credit API schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8c1' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Customer Credit API.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Giftcard Hub API schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8c2' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - GiftCard Hub API.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Giftcard API schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8c3' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Giftcard API.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Giftcard Provider Protocol schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8c4' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Giftcard Provider Protocol.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Payment Provider Protocol schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8c6' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Payment Provider Protocol.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Payments Gateway API schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8c7' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Payments Gateway API.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Pricing API schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8c8' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Pricing API.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Recurrence schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8ca' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Recurrence (v1 - deprecated).json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Subscriptions API (v2) schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8cc' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Subscriptions API (v2).json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Subscriptions API (v3) schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8f3' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Subscriptions API (v3).json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
#     - name: Sync Suggestions API schema
#       uses: readmeio/github-readme-sync@1.0.3
#       with:
#         repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
#         readme-api-id: '5eb562add9eb40005e689401' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
#         api-file-path: 'VTEX - Suggestions API.json' # path to API spec file
#         readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
#         readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Vtex DO API schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8cd' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - VTEX Do API.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Vtex Antifraud Provider schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8cf' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Antifraud Provider API.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync VTEX Tracking API schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8e8' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Tracking.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
#    - name: Sync VTEX Tracking API version 1.1 schema
#      uses: readmeio/github-readme-sync@1.0.3
#      with:
#        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
#        readme-api-id: '5eff5672f1055500110af826' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
#        api-file-path: 'VTEX - Tracking v1.1.json' # path to API spec file
#        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
#        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Message Center API schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8ef' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Message Center API.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Policy Engine API schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6091a6fd8359b80052674552' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Policies System API.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Marketplace Protocol schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8e9' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Marketplace Protocol.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
    - name: Sync Marketplace API schema
      uses: readmeio/github-readme-sync@1.0.3
      with:
        repo-token: '${{ secrets.GITHUB_TOKEN }}' # DON'T MODIFY--Allows us to get the contents of your spec file
        readme-api-id: '6037ec28bea7b903b303e8ec' # DON'T MODIFY--Autogenerated to match API Settings in ReadMe to synced file!
        api-file-path: 'VTEX - Marketplace APIs.json' # path to API spec file
        readme-api-key: '${{ secrets.README_API_KEY }}' # ReadMe API key 
        readme-api-version: '2.1' # ReadMe version to sync to
  Sync_CLI:

    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v1
      - uses: actions/setup-node@v1
        with:
          node-version: '12.x'
      - name: Install RDME
        run: npm install -g rdme
      - name: Sync Search API
        run: rdme swagger 'VTEX - Search API.json' --key=${{ secrets.README_API_KEY }} --version=v2.1 --id=6037ec28bea7b903b303e8cb
      - name: Sync Orders API
        run: rdme swagger 'VTEX - Orders API.json' --key=${{ secrets.README_API_KEY }} --version=v2.1 --id=6037ec28bea7b903b303e8b9
      - name: Sync Logistics API
        run: rdme swagger 'VTEX - Logistics API.json' --key=${{ secrets.README_API_KEY }} --version=v2.1 --id=6037ec28bea7b903b303e8c5
      - name: Sync Catalog API
        run: rdme swagger 'VTEX - Catalog API.json' --key=${{ secrets.README_API_KEY }} --version=v2.1 --id=6037ec28bea7b903b303e8bd
      - name: Sync Checkout API
        run: rdme swagger 'VTEX - Checkout API.json' --key=${{ secrets.README_API_KEY }} --version=v2.1 --id=6037ec28bea7b903b303e8be
      - name: Sync Promotions & Taxes API
        run: rdme swagger 'VTEX - Promotions & Taxes API.json' --key=${{ secrets.README_API_KEY }} --version=v2.1 --id=6037ec28bea7b903b303e8c9
