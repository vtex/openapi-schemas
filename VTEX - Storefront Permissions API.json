{
    "openapi": "3.0.0",
    "info": {
        "version": "1.0",
        "title": "Storefront Permissions API",
    "description": "The Storefront Permissions API allows management of user roles and resource access within the VTEX License Manager in the storefront. You can assign storefront roles to users, revoke storefront roles, check storefront user access to resources, remove storefront users, and fetch storefront user roles and details.\r\n>⚠️ All endpoints require the Storefront Permissions feature to be enabled for your account. Requests to accounts without this feature enabled will receive a 403 Forbidden response.\r\n\r\n>ℹ️ Learn more about the available storefront roles and resources at the [Storefront Permissions](https://developers.vtex.com/docs/guides/storefront-permissions) guide.\r\n\r\n## Index\r\n\r\n### Storefront Permissions\r\n\r\n- `POST` [Assign storefront role to user](https://developers.vtex.com/docs/api-reference/storefront-permissions-api#post-/api/license-manager/storefront/roles/assign): Assigns a specific storefront role to a user.\r\n- `DELETE` [Revoke storefront role from user](https://developers.vtex.com/docs/api-reference/storefront-permissions-api#delete-/api/license-manager/storefront/roles/revoke): Removes a specific role from a user.\r\n- `GET` [Check storefront user resource access](https://developers.vtex.com/docs/api-reference/storefront-permissions-api#get-/api/license-manager/storefront/users/{userId}/resources/{resourceKey}/granted): Verifies if a storefront user has access to a resource.\r\n- `DELETE` [Remove storefront user](https://developers.vtex.com/docs/api-reference/storefront-permissions-api#delete-/api/license-manager/storefront/remove/users/{userId}): Removes a user from the Storefront system.\r\n- `GET` [Fetch storefront user roles by ID](https://developers.vtex.com/docs/api-reference/storefront-permissions-api#get-/api/license-manager/storefront/users/{userId}/roles): Retrieves all storefront roles assigned to a user by user ID.\r\n- `GET` [Fetch storefront user roles by email](https://developers.vtex.com/docs/api-reference/storefront-permissions-api#get-/api/license-manager/storefront/users/{email}/roles): Retrieves all storefront roles assigned to a user by email.\r\n- `GET` [Fetch storefront user details](https://developers.vtex.com/docs/api-reference/storefront-permissions-api#get-/api/license-manager/storefront/users/{userId}): Retrieves storefront user details by ID.\r\n\r\n## Common parameters\r\n\r\n| Parameter name | Description | Type |\r\n| - | - | - |\r\n| `X-VTEX-API-AppKey` | Unique identifier of the [application key](https://developers.vtex.com/docs/guides/api-authentication-using-application-keys). | Authentication header. |\r\n| `X-VTEX-API-AppToken` | Secret token of the [application key](https://developers.vtex.com/docs/guides/api-authentication-using-application-keys). | Authentication header. |\r\n| `VtexIdclientAutCookie` | [User token](https://developers.vtex.com/docs/guides/api-authentication-using-user-tokens), valid for 24 hours. | Authentication header. |"
    },
    "servers": [
        {
            "url": "https://{accountName}.{environment}.com.br",
            "description": "VTEX server URL.",
            "variables": {
                "accountName": {
                    "description": "Name of the VTEX account. Used as part of the URL.",
                    "default": "apiexamples"
                },
                "environment": {
                    "description": "Environment to use. Used as part of the URL.",
                    "enum": [
                        "vtexcommercestable"
                    ],
                    "default": "vtexcommercestable"
                }
            }
        }
    ],
    "paths": {
        "/api/license-manager/storefront/roles/assign": {
            "post": {
                "tags": [
                    "Storefront Permissions"
                ],
                "summary": "Assign storefront role to user",
                "description": "Assigns a specific storefront role to a user.\r\n>ℹ️ Learn more about the available storefront roles and resources at the [Storefront Permissions](https://developers.vtex.com/docs/guides/storefront-permissions) guide.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/authentication-overview#api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise, they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| License Manager | Services access control | **Edit Storefront User Permissions** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.\r\n\r\nTo learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication-overview#machine-authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "roleId",
                                    "userId"
                                ],
                                "properties": {
                                    "roleId": {
                                        "type": "integer",
                                        "description": "Role ID to assign."
                                    },
                                    "userId": {
                                        "type": "string",
                                        "description": "GUID of the user to assign the role to."
                                    }
                                }
                            },
                            "example": {
                                "roleId": 123,
                                "userId": "00000000-0000-0000-0000-000000000000"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "boolean",
                                    "description": "Boolean indicating if the role was successfully assigned."
                                },
                                "example": true
                            }
                        }
                    },
                    "400": {
                        "description": "Missing or invalid request parameters."
                    },
                    "401": {
                        "description": "Unauthorized - Invalid authentication."
                    },
                    "403": {
                        "description": "Forbidden - Feature not enabled for this account."
                    }
                }
            }
        },
        "/api/license-manager/storefront/roles/revoke": {
            "delete": {
                "tags": [
                    "Storefront Permissions"
                ],
                "summary": "Revoke storefront role from user",
                "description": "Removes a specific storefront role from a user.\r\n>ℹ️ Learn more about the available storefront roles and resources at the [Storefront Permissions](https://developers.vtex.com/docs/guides/storefront-permissions) guide.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/authentication-overview#api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise, they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| License Manager | Services access control | **Edit Storefront User Permissions** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.\r\n\r\nTo learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication-overview#machine-authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "roleId",
                                    "userId"
                                ],
                                "properties": {
                                    "roleId": {
                                        "type": "integer",
                                        "description": "Role ID to revoke."
                                    },
                                    "userId": {
                                        "type": "string",
                                        "description": "GUID of the user to revoke the role from."
                                    }
                                }
                            },
                            "example": {
                                "roleId": 123,
                                "userId": "00000000-0000-0000-0000-000000000000"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Boolean indicating if the role was successfully revoked.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "boolean"
                                },
                                "example": true
                            }
                        }
                    },
                    "400": {
                        "description": "Missing or invalid request parameters."
                    },
                    "401": {
                        "description": "Unauthorized - Invalid authentication."
                    },
                    "403": {
                        "description": "Forbidden - Feature not enabled for this account."
                    }
                }
            }
        },
        "/api/license-manager/storefront/users/{userId}/resources/{resourceKey}/granted": {
            "get": {
                "tags": [
                    "Storefront Permissions"
                ],
                "summary": "Check storefront user resource access",
                "description": "Verifies if a specific storefront user has access to a particular storefront resource.\r\n>ℹ️ Learn more about the available storefront roles and resources at the [Storefront Permissions](https://developers.vtex.com/docs/guides/storefront-permissions) guide.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/authentication-overview#api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise, they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| License Manager | Services access control | **View Storefront User Permissions** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.\r\n\r\nTo learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication-overview#machine-authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "schema": {
                            "type": "string",
                            "example": "f0a15a42-f7fc-4b09-a9ab-fabc76d9f33"
                        },
                        "required": true,
                        "description": "GUID of the user to check."
                    },
                    {
                        "name": "resourceKey",
                        "in": "path",
                        "schema": {
                            "type": "string",
                            "example": "PlaceOrders"
                        },
                        "required": true,
                        "description": "Resource key as registered in Storefront."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "boolean",
                                    "description": "Boolean indicating if the user has access to the resource."
                                },
                                "example": true
                            }
                        }
                    },
                    "400": {
                        "description": "Missing or invalid request parameters."
                    },
                    "401": {
                        "description": "Unauthorized - Invalid authentication."
                    },
                    "403": {
                        "description": "Forbidden - Feature not enabled for this account."
                    }
                }
            }
        },
        "/api/license-manager/storefront/remove/users/{userId}": {
            "delete": {
                "tags": [
                    "Storefront Permissions"
                ],
                "summary": "Remove storefront user",
                "description": "Removes a storefront user from the system, including all their storefront role assignments.\r\n>ℹ️ Learn more about the available storefront roles and resources at the [Storefront Permissions](https://developers.vtex.com/docs/guides/storefront-permissions) guide.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/authentication-overview#api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise, they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| License Manager | Services access control | **Edit Storefront User Permissions** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.\r\n\r\nTo learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication-overview#machine-authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "schema": {
                            "type": "string",
                            "example": "f0a15a42-f7fc-4b09-a9ab-fabc76d9f33"
                        },
                        "required": true,
                        "description": "GUID of the user to remove."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Boolean indicating if the user was successfully removed.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "boolean"
                                },
                                "example": true
                            }
                        }
                    },
                    "400": {
                        "description": "Missing or invalid path parameters."
                    },
                    "401": {
                        "description": "Unauthorized - Invalid authentication."
                    },
                    "403": {
                        "description": "Forbidden - Feature not enabled for this account."
                    }
                }
            }
        },
        "/api/license-manager/storefront/users/{userId}/roles": {
            "get": {
                "tags": [
                    "Storefront Permissions"
                ],
                "summary": "Fetch storefront user roles by ID",
                "description": "Retrieves all storefront roles assigned to a specific user by user ID.\r\n>ℹ️ Learn more about the available storefront roles and resources at the [Storefront Permissions](https://developers.vtex.com/docs/guides/storefront-permissions) guide.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/authentication-overview#api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise, they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| License Manager | Services access control | **View Storefront User Permissions** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.\r\n\r\nTo learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication-overview#machine-authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "schema": {
                            "type": "string",
                            "example": "f0a15a42-f7fc-4b09-a9ab-fabc76d9f33"
                        },
                        "required": true,
                        "description": "GUID of the user to retrieve roles for."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User roles response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "UserId": {
                                            "type": "string",
                                            "description": "User GUID."
                                        },
                                        "Email": {
                                            "type": "string",
                                            "description": "User email address."
                                        },
                                        "Roles": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            },
                                            "description": "List of roles assigned to the user."
                                        }
                                    }
                                },
                                "example": {
                                    "UserId": "f0a15a42-f7fc-4b09-a9ab-fabc76d9f332",
                                    "Email": "lekas53942@hazhab.com",
                                    "Roles": [
                                        "Organizational Unit Admin"
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Missing or invalid path parameters."
                    },
                    "401": {
                        "description": "Unauthorized - Invalid authentication."
                    },
                    "403": {
                        "description": "Forbidden - Feature not enabled for this account."
                    }
                }
            }
        },
        "/api/license-manager/storefront/users/{email}/roles": {
            "get": {
                "tags": [
                    "Storefront Permissions"
                ],
                "summary": "Fetch storefront user roles by email",
                "description": "Retrieves all storefront roles assigned to a specific user by email.\r\n>ℹ️ Learn more about the available storefront roles and resources at the [Storefront Permissions](https://developers.vtex.com/docs/guides/storefront-permissions) guide.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/authentication-overview#api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise, they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| License Manager | Services access control | **View Storefront User Permissions** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.\r\n\r\nTo learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication-overview#machine-authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
                "parameters": [
                    {
                        "name": "email",
                        "in": "path",
                        "schema": {
                            "type": "string",
                            "example": "lekas53942@hazhab.com"
                        },
                        "required": true,
                        "description": "Email address of the user to retrieve roles for."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User roles response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "UserId": {
                                            "type": "string",
                                            "description": "User GUID."
                                        },
                                        "Email": {
                                            "type": "string",
                                            "description": "User email address."
                                        },
                                        "Roles": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            },
                                            "description": "List of roles assigned to the user."
                                        }
                                    }
                                },
                                "example": {
                                    "UserId": "f0a15a42-f7fc-4b09-a9ab-fabc76d9f332",
                                    "Email": "lekas53942@hazhab.com",
                                    "Roles": [
                                        "Organizational Unit Admin"
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Missing or invalid path parameters."
                    },
                    "401": {
                        "description": "Unauthorized - Invalid authentication."
                    },
                    "403": {
                        "description": "Forbidden - Feature not enabled for this account."
                    }
                }
            }
        },
        "/api/license-manager/storefront/users/{userId}": {
            "get": {
                "tags": [
                    "Storefront Permissions"
                ],
                "summary": "Fetch storefront user details",
                "description": "Retrieves storefront user details by ID.\r\n\r\n## Permissions\r\n\r\nAny user or [API key](https://developers.vtex.com/docs/guides/authentication-overview#api-keys) must have at least one of the appropriate [License Manager resources](https://help.vtex.com/en/tutorial/license-manager-resources--3q6ztrC8YynQf6rdc6euk3) to be able to successfully run this request. Otherwise, they will receive a status code `403` error. These are the applicable resources for this endpoint:\r\n\r\n| **Product** | **Category** | **Resource** |\r\n| --------------- | ----------------- | ----------------- |\r\n| License Manager | Services access control | **View Storefront User Permissions** |\r\n\r\nThere are no applicable [predefined roles](https://help.vtex.com/en/tutorial/predefined-roles--jGDurZKJHvHJS13LnO7Dy) for this resource list. You must [create a custom role](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#creating-a-role) and add at least one of the resources above in order to use this endpoint.\r\n\r\nTo learn more about machine authentication at VTEX, see [Authentication overview](https://developers.vtex.com/docs/guides/authentication-overview#machine-authentication).\r\n\r\n>❗ To prevent integrations from having excessive permissions, consider the [best practices for managing API keys](https://help.vtex.com/en/tutorial/best-practices-api-keys--7b6nD1VMHa49aI5brlOvJm) when assigning License Manager roles to integrations.",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "schema": {
                            "type": "string",
                            "example": "f0a15a42-f7fc-4b09-a9ab-fabc76d9f33"
                        },
                        "required": true,
                        "description": "GUID of the user to retrieve."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User details response.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "UserId": {
                                            "type": "string",
                                            "description": "User GUID."
                                        },
                                        "Email": {
                                            "type": "string",
                                            "description": "User email address."
                                        }
                                    }
                                },
                                "example": {
                                    "UserId": "f0a15a42-f7fc-4b09-a9ab-fabc76d9f332",
                                    "Email": "lekas53942@hazhab.com"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Missing or invalid path parameters."
                    },
                    "401": {
                        "description": "Unauthorized - Invalid authentication."
                    },
                    "403": {
                        "description": "Forbidden - Feature not enabled for this account."
                    }
                }
            }
        }
    },
    "security": [
        {
            "appKey": [],
            "appToken": []
        },
        {
            "VtexIdclientAutCookie": []
        }
    ],
    "components": {
        "securitySchemes": {
            "appKey": {
                "type": "apiKey",
                "in": "header",
                "name": "X-VTEX-API-AppKey",
                "description": "Unique identifier of the [application key](https://developers.vtex.com/docs/guides/api-authentication-using-application-keys)."
            },
            "appToken": {
                "type": "apiKey",
                "in": "header",
                "name": "X-VTEX-API-AppToken",
                "description": "Secret token of the [application key](https://developers.vtex.com/docs/guides/api-authentication-using-application-keys)."
            },
            "VtexIdclientAutCookie": {
                "type": "apiKey",
                "in": "header",
                "name": "VtexIdclientAutCookie",
                "description": "[User token](https://developers.vtex.com/docs/guides/api-authentication-using-user-tokens), valid for 24 hours."
            }
        }
    },
    "tags": [
        {
            "name": "Storefront Permissions"
        }
    ]
}