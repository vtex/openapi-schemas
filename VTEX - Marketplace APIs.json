{
	"openapi": "3.0.0",
	"info": {
		"title": "Marketplace API",
		"description": "The Marketplace APIs are a set of API requests used by marketplaces and sellers in their operations.",
		"contact": {},
		"version": "1.0"
	},
	"servers": [
		{
			"url": "/",
			"description": ""
        }
	],
	"paths": {
    "/{accountname}.{environment}.com.br/api/notificator/{sellerId}/changenotification/{skuId}/price": {
		"post": {
		  "tags": [
			"Notification"
		  ],
		  "summary": "Notify marketplace of price update",
		  "description": "This endpoint is used by *sellers* to notify marketplaces that the price has changed for one of their SKUs. \n\nThere is no request body in this call, indicating the new price value, for instance. It only notifies a specific marketplace (`accountname`) that a seller (`sellerId`) has changed the price of an SKU (`skuId`). \n\n*Marketplaces* will then call the [fulfillment endpoint](https://developers.vtex.com/reference/external-seller#fulfillment-simulation) provided in the seller registration form to get the updated price information.",
		  "operationId": "PriceNotification",
		  "parameters": [
			{
			  "name": "accountName",
			  "in": "path",
			  "required": true,
			  "description": "Name of the VTEX account that belongs to the marketplace. The notification will be posted into this account.",
			  "schema": {
				"type": "string",
				"default": "apiexamples"
			  }
            },
            {
              "name": "Content-Type",
              "in": "header",
              "description": "Describes the type of the content being sent.",
              "required": true,
              "style": "simple",
              "schema": {
                "type": "string",
                "default": "application/json"
              }
            },
			{
			  "name": "environment",
			  "in": "path",
			  "required": true,
			  "description": "Environment to use. Used as part of the URL.",
			  "schema": {
				"type": "string",
				"default": "vtexcommercestable"
			  }
			},
			{
			  "name": "Accept",
			  "in": "header",
			  "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand.",
			  "required": true,
			  "style": "simple",
			  "schema": {
				"type": "string",
				"default": "application/json"
			  }
			},
			{
			  "name": "sellerId",
			  "in": "path",
			  "description": "A string that identifies the seller in the marketplace. This ID must be created by the marketplace and informed to the seller before the integration is built.",
			  "required": true,
			  "style": "simple",
			  "schema": {
			    "type": "string",
			    "default": "seller123"
			    }
            },
            {
                "name": "skuId",
                "in": "path",
                "description": "A string that identifies the seller's SKU that suffered the change. This is the ID that the marketplace will use for all  references to this SKU, such as price and inventory notifications.",
                "required": true,
                "style": "simple",
                "schema": {
                  "type": "string",
                  "default": "application/json"
                  }
            }	  	
	    	],
                "responses": {
                "200": {
                    "description": "",
                    "headers": {}
                }
            },
            "deprecated": false
        }
    },
    "/{accountname}.{environment}.com.br/api/notificator/{sellerId}/changenotification/{skuId}/inventory": {
		"post": {
		  "tags": [
			"Notification"
		  ],
		  "summary": "Notify marketplace of inventory update",
          "description": "This endpoint is used by *sellers* to notify marketplaces that the inventory level has changed for one of their SKUs. \n\nThere is no request body in this call, indicating the new inventory level, for instance. It only notifies a specific marketplace (`accountname`) that a seller (`sellerId`) has changed the inventory level of an SKU (`skuId`). \n\n*Marketplaces* will then call the [fulfillment endpoint](https://developers.vtex.com/reference/external-seller#fulfillment-simulation) provided in the seller registration form to get the updated inventory  information.",
		  "operationId": "InventoryNotification",
		  "parameters": [
			{
			  "name": "accountName",
			  "in": "path",
			  "required": true,
			  "description": "Name of the VTEX account that belongs to the marketplace. The notification will be posted into this account.",
			  "schema": {
				"type": "string",
				"default": "apiexamples"
			  }
			},
			{
			  "name": "environment",
			  "in": "path",
			  "required": true,
			  "description": "Environment to use. Used as part of the URL.",
			  "schema": {
				"type": "string",
				"default": "vtexcommercestable"
			  }
			},
			{
			  "name": "Accept",
			  "in": "header",
			  "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand.",
			  "required": true,
			  "style": "simple",
			  "schema": {
				"type": "string",
				"default": "application/json"
			  }
            },
            {
                "name": "Content-Type",
                "in": "header",
                "description": "Describes the type of the content being sent.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "default": "application/json"
                }
            },
			{
			  "name": "sellerId",
			  "in": "path",
			  "description": "A string that identifies the seller in the marketplace. This ID must be created by the marketplace and informed to the seller before the integration is built.",
			  "required": true,
			  "style": "simple",
			  "schema": {
			    "type": "string",
			    "default": "seller123"
			    }
            },
            {
                "name": "skuId",
                "in": "path",
                "description": "A string that identifies the SKU in the seller, that suffered the change. This is the ID that the marketplace will use for all  references to this SKU, such as price and inventory notifications.",
                "required": true,
                "style": "simple",
                "schema": {
                  "type": "string",
                  "default": "application/json"
                  }
            }	  	
	    	],
                "responses": {
                "200": {
                    "description": "",
                    "headers": {}
                }
            },
            "deprecated": false
        }
    },
    "/api.vtex.com/{accountName}/suggestions/configuration": {
        "get": {
          "tags": [
            "Approval rules"
          ],
          "summary": "Get Account's Approval Configurations",
          "description": "This endpoint retrieves the current account settings of a marketplace’s Received SKUs module.  Its response includes: \n\n- `Score`: Matcher scores for approving and rejecting SKUs received from sellers. \n\n- `Matchers`: All Matchers configured on the marketplace, and their respective details. \n\n- `Rules`: Rules by item and products applied for approving Received SKUs. \n\n- `SpecificationsMapping`: Mapping of specifications, per seller. \n\n- `MatchFlux`: This field determines the type of approval configuration applied to SKUs received  from a seller. The possible values include:  `default`, for the system configuration; `manual`, for manual approvals through the Received SKU module; and  `autoApprove`, for every SKU received from a given seller to be approved automatically.",
          "operationId": "Getaccountconfig",
          "parameters": [
            {
              "name": "accountName",
              "in": "path",
              "required": true,
              "description": "Name of the VTEX account that belongs to the marketplace. The notification will be posted into this account.",
              "schema": {
                "type": "string",
                "default": "apiexamples"
              }
            },
            {
              "name": "Accept",
              "in": "header",
              "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand.",
              "required": true,
              "style": "simple",
              "schema": {
                "type": "string",
                "default": "application/json"
              }
            },
            {
                "name": "Content-Type",
                "in": "header",
                "description": "Describes the type of the content being sent.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "default": "application/json"
                }
            }
          ],
          "responses": {
            "200": {
              "description": "",
              "headers": {}
            }
          },
          "deprecated": false
        },
        "put": {
          "tags": [
            "Approval rules"
          ],
          "summary": "Save Account's Approval Configuration",
          "description": "Marketplaces use this endpoint to create or update approval settings on their Received SKUs module. The request includes all the details necessary to implement the chosen approval settings.",
          "operationId": "Saveaccountconfig",
          "parameters": [
            {
              "name": "accountName",
              "in": "path",
              "required": true,
              "description": "Name of the VTEX account that belongs to the marketplace. All data extracted, and changes added will be posted into this account.",
              "schema": {
                "type": "string",
                "default": "apiexamples"
              }
            },
            {
              "name": "Accept",
              "in": "header",
              "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand.",
              "required": true,
              "style": "simple",
              "schema": {
                "type": "string",
                "default": "application/json"
              }
            },
            {
                "name": "Content-Type",
                "in": "header",
                "description": "Describes the type of the content being sent.",
                "required": true,
                "style": "simple",
                "schema": {
                    "type": "string",
                    "default": "application/json"
                }
            }
          ],
          "requestBody": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SaveaccountconfigRequest"
                }            }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "",
              "headers": {}
            }
          },
          "deprecated": false
        }
    },
    "/api.vtex.com/{accountName}/suggestions/configuration/autoapproval/toggle": {
    "get": {
        "tags": [
        "Approval rules"
        ],
        "summary": "Get autoApprove Status in Account Configuration",
        "description": "This endpoint can be used to check whether the autoapprove configuration is enabled or not, for a specific seller.",
        "operationId": "GetautoApprovevaluefromconfig",
        "parameters": [
        {
            "name": "sellerId",
            "in": "query",
            "description": "A string that identifies the seller in the marketplace. This ID must be created by the marketplace.",
            "required": true,
            "style": "form",
            "schema": {
            "type": "string",
            "default": "1a"
            }
        },
        {
            "name": "accountName",
            "in": "path",
            "required": true,
            "description": "Name of the VTEX account that belongs to the marketplace. All data extracted, and changes added will be posted into this account.",
            "schema": {
            "type": "string",
            "default": "apiexamples"
            }
        },
        {
            "name": "Accept",
            "in": "header",
            "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand.",
            "required": true,
            "style": "simple",
            "schema": {
            "type": "string",
            "default": "application/json"
            }
        },
        {
            "name": "Content-Type",
            "in": "header",
            "description": "Describes the type of the content being sent.",
            "required": true,
            "style": "simple",
            "schema": {
                "type": "string",
                "default": "application/json"
            }
        }
        ],
        "responses": {
        "200": {
            "description": "",
            "headers": {}
        }
        },
        "deprecated": false
    },
    "put": {
        "tags": [
        "Approval rules"
        ],
        "summary": "Save auto approve for account",
        "description": "This endpoint enables the autoapprove rule to a marketplace’s whole Received SKUs module. Be aware that once enabling the rule through this request, all received SKUs will be automatically approved on your store, regardless of the seller.",
        "operationId": "Saveautoapproveforaccount",
        "parameters": [
        {
            "name": "accountName",
            "in": "path",
            "required": true,
            "description": "Name of the VTEX account that belongs to the marketplace. All data extracted, and changes added will be posted into this account.",
            "schema": {
            "type": "string",
            "default": "apiexamples"
            }
        },
        {
            "name": "Accept",
            "in": "header",
            "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand.",
            "required": true,
            "style": "simple",
            "schema": {
            "type": "string",
            "default": "application/json"
            }
        },
        {
            "name": "Content-Type",
            "in": "header",
            "description": "Describes the type of the content being sent.",
            "required": true,
            "style": "simple",
            "schema": {
                "type": "string",
                "default": "application/json"
            }
        }
        ],
        "requestBody": {
        "description": "",
        "content": {
            "application/json": {
            "schema": {
                "$ref": "#/components/schemas/SaveautoapproveforaccountRequest"
            },
            "example": {
                "Enabled": true
            }
            }
        },
        "required": true
        },
        "responses": {
        "200": {
            "description": "",
            "headers": {}
        }
        },
        "deprecated": false
    }
    },
    "/api.vtex.com/{accountName}/suggestions/configuration/seller/{sellerId}": {
    "get": {
        "tags": [
        "Approval rules"
        ],
        "summary": "Get seller account config",
        "description": "This endpoint retrieves the current Received SKUs account settings applied to a specific seller. Its response includes: \n\n- `sellerId`: A string that identifies the seller in the marketplace. \n\n- `accountId`: marketplace’s account ID. \n\n- `accountName`: marketplace’s account name. \n\n- `mapping`: ____________. \n\n- `matchFlux`: This field determines the type of approval configuration applied to SKUs received  from a seller. The possible values include:  `default`, for the system configuration; `manual`, for manual approvals through the Received SKU module; and  `autoApprove`, for every SKU received from a given seller to be approved automatically.",
        "operationId": "Getselleraccountconfig",
        "parameters": [
        {
            "name": "accountName",
            "in": "path",
            "required": true,
            "description": "Name of the VTEX account that belongs to the marketplace. All data extracted, and changes added will be posted into this account.",
            "schema": {
            "type": "string",
            "default": "apiexamples"
            }
        },
        {
            "name": "sellerId",
            "in": "query",
            "description": "A string that identifies the seller in the marketplace. This ID must be created by the marketplace.",
            "required": true,
            "style": "form",
            "schema": {
            "type": "string",
            "default": "1a"
            }
        },
        {
            "name": "Accept",
            "in": "header",
            "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand.",
            "required": true,
            "style": "simple",
            "schema": {
            "type": "string",
            "default": "application/json"
            }
        },
        {
            "name": "Content-Type",
            "in": "header",
            "description": "Describes the type of the content being sent.",
            "required": true,
            "style": "simple",
            "schema": {
                "type": "string",
                "default": "application/json"
            }
        }
        ],
        "responses": {
        "200": {
            "description": "",
            "headers": {}
        }
        },
        "deprecated": false
    },
    "put": {
        "tags": [
        "Approval rules"
        ],
        "summary": "Put seller account config",
        "description": "Marketplaces use this endpoint to create or update approval settings to a specific seller, on the Received SKUs module. The request includes all the details necessary to implement the chosen approval settings.",
        "operationId": "Putselleraccountconfig",
        "parameters": [
        {
            "name": "accountName",
            "in": "path",
            "required": true,
            "description": "Name of the VTEX account that belongs to the marketplace. All data extracted, and changes added will be posted into this account.",
            "schema": {
            "type": "string",
            "default": "apiexamples"
            }
        },
        {
            "name": "Accept",
            "in": "header",
            "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand.",
            "required": true,
            "style": "simple",
            "schema": {
            "type": "string",
            "default": "application/json"
            }
        },
        {
            "name": "Content-Type",
            "in": "header",
            "description": "Describes the type of the content being sent.",
            "required": true,
            "style": "simple",
            "schema": {
                "type": "string",
                "default": "application/json"
            }
        }
        ],
        "requestBody": {
        "description": "",
        "content": {
            "application/json": {
            "schema": {
                "$ref": "#/components/schemas/PutselleraccountconfigRequest"
            },
            "example": {
                "sellerId": "1a",
                "mapping": null,
                "matchFlux": "Default"
            }
            }
        },
        "required": true
        },
        "responses": {
        "200": {
            "description": "",
            "headers": {}
        }
        },
        "deprecated": false
    }
    },
    "/api.vtex.com/{accountName}/suggestions/configuration/autoapproval/toggle/seller/{sellerId}": {
    "put": {
        "tags": [
        "Approval rules"
        ],
        "summary": "Save auto approve for account seller",
        "description": "This endpoint enables the autoapprove rule to received SKUs from a specific seller. Be aware that once enabling the rule through this request, all received SKUs from that seller will be automatically approved on your store.",
        "operationId": "Saveautoapproveforaccountseller",
        "parameters": [
        {
            "name": "accountName",
            "in": "path",
            "required": true,
            "description": "Name of the VTEX account that belongs to the marketplace. All data extracted, and changes added will be posted into this account.",
            "schema": {
            "type": "string",
            "default": "apiexamples"
            }
        },
        {
            "name": "sellerId",
            "in": "query",
            "description": "A string that identifies the seller in the marketplace. This ID must be created by the marketplace.",
            "required": true,
            "style": "form",
            "schema": {
            "type": "string",
            "default": "1a"
            }
        },
        {
            "name": "Accept",
            "in": "header",
            "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand.",
            "required": true,
            "style": "simple",
            "schema": {
            "type": "string",
            "default": "application/json"
            }
        },
        {
            "name": "Content-Type",
            "in": "header",
            "description": "Describes the type of the content being sent.",
            "required": true,
            "style": "simple",
            "schema": {
                "type": "string",
                "default": "application/json"
            }
        }
        ],
        "requestBody": {
        "description": "",
        "content": {
            "application/json": {
            "schema": {
                "$ref": "#/components/schemas/SaveautoapproveforaccountsellerRequest"
            },
            "example": {
                "Enabled": true
            }
            }
        },
        "required": true
        },
        "responses": {
        "200": {
            "description": "",
            "headers": {}
        }
        },
        "deprecated": false
    }
    }
    },
    "security": [
		{
			"appKey": [],
			"appToken": []
		}
    ],
    "components": {
        "schemas": {
          "SaveaccountconfigRequest": {
            "title": "SaveaccountconfigRequest",
            "required": [
              "Score",
              "Matchers",
              "Rules",
              "SpecificationsMapping",
              "MatchFlux"
            ],
            "type": "object",
            "properties": {
              "Score": {
                "$ref": "#/components/schemas/Score"
              },
              "Matchers": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Matcher"
                },
                "description": ""
              },
              "Rules": {
                "$ref": "#/components/schemas/Rules"
              },
              "SpecificationsMapping": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": ""
              },
              "MatchFlux": {
                "type": "string",
                "description":"This field determines the type of approval configuration applied to SKUs received  from a seller. The possible values include: \n\n- `default` for the system configuration \n\n- `manual` for manual approvals through the Received SKU module \n\n- `autoApprove` for every SKU received from a given seller to be approved automatically.",
                "default":"autoApprove"
              }
            },
            "example": {
              "Score": {
                "Approve": 80,
                "Reject": 30
              },
              "Matchers": [
                {
                  "MatcherId": "vtex-matcher",
                  "hook-base-address": "http://simple-suggestion-matcher.vtex.com.br",
                  "IsActive": true,
                  "UpdatesNotificationEndpoint": null,
                  "Description": null
                }
              ],
              "Rules": {
                "Item": [],
                "Product": []
              },
              "SpecificationsMapping": [],
              "MatchFlux": "AutoApprove"
            }
          },
          "Score": {
            "title": "Score",
            "description": "Matcher rates received SKUs, by comparing the data sent by sellers, to existing fields in the marketplace. The calculation of these scores determines whether the product has been: `Approved` or `Denied`.",
            "required": [
              "Approve",
              "Reject"
            ],
            "type": "object",
            "properties": {
              "Approve": {
                "type": "integer",
                "description":"Insert in this field the desired minimum score to approve SKUs.",
                "format": "int32",
                "default":"80"
              },
              "Reject": {
                "type": "integer",
                "description":"Insert in this field the desired maximum score to reject SKUs.",
                "format": "int32",
                "default":"30"
              }
            }
          },
          "Matcher": {
            "title": "Matcher",
            "required": [
              "MatcherId",
              "hook-base-address",
              "IsActive",
              "UpdatesNotificationEndpoint",
              "Description"
            ],
            "type": "object",
            "properties": {
              "MatcherId": {
                "type": "string",
                "description": "Identifies the matching entity. It can be either VTEX's matcher, or an external matcher developed by partners, for example.",
                "default": "vtex-matcher"
              },
              "hook-base-address": {
                "type": "string",
                "description":"",
                "default": "http://simple-suggestion-matcher.vtex.com.br"
              },
              "IsActive": {
                "type": "boolean",
                "description":"Whether the matcher is active in the account, or not.",
                "default": true
              },
              "UpdatesNotificationEndpoint": {
                "type": "string",
                "description":"",
                "nullable": true,
                "default": null
              },
              "Description": {
                "type": "string",
                "nullable": true,
                "default": null
              }
            }
          },
          "Rules": {
            "title": "Rules",
            "required": [
              "Item",
              "Product"
            ],
            "type": "object",
            "properties": {
              "Item": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "",
                "default":""
              },
              "Product": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "",
                "default":""
              }
            },
            "example": {
              "Item": [],
              "Product": []
            }
          },
          "PutselleraccountconfigRequest": {
            "title": "PutselleraccountconfigRequest",
            "required": [
              "sellerId",
              "mapping",
              "matchFlux"
            ],
            "type": "object",
            "properties": {
              "sellerId": {
                "type": "string",
                "description": "A string that identifies the seller in the marketplace. This ID must be created by the marketplace.",
                "default": "1a"
              },
              "mapping": {
                "type": "string",
                "nullable": true,
                "default": null
              },
              "matchFlux": {
                "type": "string",
                "description":"This field determines the type of approval configuration applied to SKUs received  from a seller. The possible values include: \n\n- `default` for the system configuration \n\n- `manual` for manual approvals through the Received SKU module \n\n- `autoApprove` for every SKU received from a given seller to be approved automatically.",
                "default":"autoApprove"
              }
            }
          },
          "SaveautoapproveforaccountRequest": {
            "title": "SaveautoapproveforaccountRequest",
            "required": [
              "Enabled"
            ],
            "type": "object",
            "properties": {
              "Enabled": {
                "type": "boolean",
                "description":"",
                "default": true
              }
            }
          },
          "SaveautoapproveforaccountsellerRequest": {
            "title": "SaveautoapproveforaccountsellerRequest",
            "required": [
              "Enabled"
            ],
            "type": "object",
            "properties": {
              "Enabled": {
                "type": "boolean",
                "description":"",
                "default": true
              }
            }
          }
        }
    },
	"tags": [
		{
			"name": "Notifications"
        },
        {
            "name": "Approval rules"
        }
	]
}